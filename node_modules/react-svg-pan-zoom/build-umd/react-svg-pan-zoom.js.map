{"version":3,"file":"react-svg-pan-zoom.js","mappings":"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EAAgE,OAAO;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC1BA;AACA;AACA,aAAa,QAAQ;AACrB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACbA;AACA;AACA,kBAAkB,QAAQ;AAC1B,aAAa,QAAQ;AACrB;AACO;AACP;;AAEA,UAAU,mBAAmB;;AAE7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpBO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;;;AClB6C;;AAE7C;AACA;AACA,kBAAkB,QAAQ;AAC1B,YAAY,SAAS;AACrB;;AAEO;AACP,SAAS,QAAQ;AACjB;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;;;ACtBA;AACA;AACA,cAAc,QAAQ;AACtB,oBAAoB,QAAQ;AAC5B,aAAa,QAAQ;AACrB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfA;AACA;AACA,oBAAoB,sBAAsB;AAC1C,aAAa,QAAQ;AACrB;AACO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,sBAAsB;AAC1C,aAAa,QAAQ;AACrB;AACO;AACP;AACA;;;AC5CqC;AACE;AACA;;AAEvC,QAAQ,eAAe;AACvB;AACA;AACA,iBAAiB,QAAQ;AACzB,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,aAAa,QAAQ;AACrB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,WAAW,QAAQ,WAAW;AACpC;AACA;;AAEA,SAAS,SAAS;AAClB,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA;;AAEA;AACA;AACA,iBAAiB,QAAQ;AACzB,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,aAAa,QAAQ;AACrB;AACO;AACP;AACA;;;AC3CqC;AACE;AACA;;AAEvC;AACA;AACA,cAAc,QAAQ;AACtB,qBAAqB,QAAQ;AAC7B,gBAAgB,QAAQ;AACxB,gBAAgB,QAAQ;AACxB,aAAa,QAAQ;AACrB;AACO;AACP,MAAM,WAAW;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM,WAAW,QAAQ,WAAW;AACpC;AACA;;AAEA,SAAS,SAAS;AAClB,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA;;;ACjCA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,aAAa,QAAQ;AACrB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfA;AACA,QAAQ,MAAM;;AAEd;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB,aAAa,QAAQ;AACrB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB,aAAa,QAAQ;AACrB;AACO;AACP;AACA;;;AC5BA;AACA;AACA,kBAAkB,QAAQ;AAC1B,aAAa,QAAQ;AACrB;AACO;AACP,SAAS,iBAAQ;AACjB;;AAEA;AACA;AACA,kBAAkB,QAAQ;AAC1B,aAAa,QAAQ;AACrB;AACO;AACP,SAAS,iBAAQ;AACjB;;AAEA;AACA;AACA,kBAAkB,QAAQ;AAC1B,aAAa,QAAQ;AACrB;AACO,SAAS,iBAAQ;AACxB,mBAAmB,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS;AACxF;;;ACzBA;AACA;AACA,kBAAkB,QAAQ;AAC1B,uBAAuB,QAAQ;AAC/B,aAAa,QAAQ;AACrB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfmC;AACI;AACM;;AAE7C;AACA;AACA,cAAc,SAAS;AACvB,cAAc,SAAS;AACvB,aAAa,QAAQ;AACrB;AACA;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,OAAO;AAC3B,uBAAuB,SAAS;;AAEhC;AACA,SAAS,YAAY;AACrB;;;ACpDyC;AACF;AACR;AACK;AACJ;AACD;;AAE/B;AACA;AACA,yCAAyC,UAAU;AACnD,aAAa,UAAU;AACvB;AACA;AACA;AACA,MAAM,8CAA8C;AACpD,MAAM,mCAAmC;AACzC,MAAM,6BAA6B;AACnC,MAAM,2CAA2C;AACjD,MAAM,0BAA0B;AAChC,MAAM,2BAA2B;AACjC,MAAM;AACN;AACA;AACA;AACA,MAAM,oCAAoC;AAC1C,MAAM,sCAAsC;AAC5C,MAAM,oCAAoC;AAC1C,MAAM,6CAA6C;AACnD,MAAM,yCAAyC;AAC/C,MAAM,uCAAuC;AAC7C,MAAM;AACN;AACA;AACO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B,UAAU;AACV;AACA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;;AAEhD,eAAe,SAAS;;AAExB;AACA;;AAEA,uCAAuC,KAAK;;AAE5C,eAAe,KAAK;;AAEpB;AACA;;AAEA;AACA,iBAAiB,SAAS;AAC1B;AACA,eAAe,SAAS;;AAExB;AACA;AACA,eAAe,OAAO;;AAEtB;AACA;AACA,eAAe,OAAO;;AAEtB;AACA;AACA,eAAe,KAAK;;AAEpB;AACA;AACA;AACA;AACA;;;AC3FA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,0BAA0B;AACjF,uDAAuD,0BAA0B;AACjF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,0BAA0B;AACjF,uDAAuD,0BAA0B;AACjF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,yBAAyB,yBAAyB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,iCAAiC;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8BAA8B;AAC9B,iCAAiC;AACjC;AACA,eAAe,mDAAmD;AAClE;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA,6BAA6B;AAC7B,6BAA6B;AAC7B,8BAA8B;AAC9B,mCAAmC;AACnC,+BAA+B;AAC/B,iCAAiC;AACjC,iCAAiC;AACjC,mCAAmC;AACnC,8BAA8B;AAC9B,iCAAiC;AACjC;AACA;AACA,+BAA+B,oBAAoB;AACnD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAwC;;AAExC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA,mCAAmC;AACnC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA,mCAAmC;AACnC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA,mCAAmC;AACnC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA,mCAAmC;AACnC;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAME;;;ACv2C4D;;AAE9D;AACA;AACA;AACA,2BAA2B,QAAQ;AACnC,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA,MAAM,oCAAoC;AAC1C,MAAM,6BAA6B;AACnC,MAAM;AACN;AACA;AACA;AACA,KAAK;AACL;AACO;AACP,SAAS,SAAK;AACd;;;ACrB+B;AACM;AACrC;AACA;AACA;AACA;AACA,0BAA0B,OAAO,6BAA6B,QAAQ;AACtE,yCAAyC;AACzC;AACA,kBAAkB,QAAQ;AAC1B,kBAAkB,SAAS;AAC3B,kBAAkB,SAAS;AAC3B,aAAa,WAAW;AACxB;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO,SAAS,KAAK;AACpC,MAAM;AACN,eAAe,OAAO,SAAS,KAAK;AACpC;AACA,IAAI;AACJ,aAAa,OAAO,SAAS,KAAK;AAClC;;AAEA,sBAAsB;AACtB,sBAAsB;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,4BAA4B;AAC7C,aAAa,wBAAwB;AACrC,gBAAgB;AAChB;AACA;;;ACjEA;AACA;AACA,aAAa,QAAQ;AACrB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3CuC;AACM;AACZ;AACF;AACM;;AAErC;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACO;AACP;AACA;;AAEA,SAAS,SAAS;AAClB;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACO;AACP;AACA;;AAEA,iBAAiB,YAAY;AAC7B;AACA;;AAEA;AACA;AACA,yBAAyB,MAAM;;AAE/B;AACA;AACA;AACA;AACA,wBAAwB,KAAK;;AAE7B,SAAS,OAAO;AAChB;AACA;AACA;AACA;AACA;;;ACpD8B;AACF;AACA;AACF;AACD;AACO;AACR;AACD;AACA;AACD;AACI;AACC;AACA;AACI;AACD;AACE;AACQ;AACb;AACL;AACY;;;;;;;;ACnBlC;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;UENA;UACA;UACA;UACA","sources":["webpack://ReactSVGPanZoom/webpack/universalModuleDefinition","webpack://ReactSVGPanZoom/./src/constants.js","webpack://ReactSVGPanZoom/./src/events/event-factory.js","webpack://ReactSVGPanZoom/./src/events/viewer-event.js","webpack://ReactSVGPanZoom/./src/events/viewer-mouse-event.js","webpack://ReactSVGPanZoom/./src/events/viewer-touch-event.js","webpack://ReactSVGPanZoom/./src/features/common.js","webpack://ReactSVGPanZoom/./src/features/interactions-touch.js","webpack://ReactSVGPanZoom/./src/features/interactions.js","webpack://ReactSVGPanZoom/./src/features/miniature.js","webpack://ReactSVGPanZoom/./src/features/pan.js","webpack://ReactSVGPanZoom/./src/features/zoom.js","webpack://ReactSVGPanZoom/./src/index.js","webpack://ReactSVGPanZoom/./src/migration-tips.js","webpack://ReactSVGPanZoom/./src/ui-miniature/icon-arrow.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-mask.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-toggle-button.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-cursor.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-fit.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-pan.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-in.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-out.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar-button.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar.jsx","webpack://ReactSVGPanZoom/./src/ui/border-gradient.js","webpack://ReactSVGPanZoom/./src/ui/cursor-polyfill.js","webpack://ReactSVGPanZoom/./src/ui/detect-touch.js","webpack://ReactSVGPanZoom/./src/ui/selection.jsx","webpack://ReactSVGPanZoom/./src/uncontrolled-viewer.js","webpack://ReactSVGPanZoom/./src/utils/RandomUID.js","webpack://ReactSVGPanZoom/./src/utils/calculateBox.js","webpack://ReactSVGPanZoom/./src/utils/getDisplayName.js","webpack://ReactSVGPanZoom/./src/utils/is.js","webpack://ReactSVGPanZoom/./src/utils/mapRange.js","webpack://ReactSVGPanZoom/./src/utils/parseViewBox.js","webpack://ReactSVGPanZoom/./src/viewer.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/applyToPoint.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromObject.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromString.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/identity.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/inverse.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/utils.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/isAffineMatrix.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/translate.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/transform.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/rotate.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/scale.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/shear.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/skew.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/toString.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/smoothMatrix.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTriangles.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromDefinition.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTransformAttribute.autogenerated.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTransformAttribute.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/decompose.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/flip.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromMovingPoints.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/index.js","webpack://ReactSVGPanZoom/external umd {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack://ReactSVGPanZoom/external umd {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://ReactSVGPanZoom/webpack/bootstrap","webpack://ReactSVGPanZoom/webpack/runtime/define property getters","webpack://ReactSVGPanZoom/webpack/runtime/hasOwnProperty shorthand","webpack://ReactSVGPanZoom/webpack/runtime/make namespace object","webpack://ReactSVGPanZoom/webpack/before-startup","webpack://ReactSVGPanZoom/webpack/startup","webpack://ReactSVGPanZoom/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactSVGPanZoom\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"ReactSVGPanZoom\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__442__, __WEBPACK_EXTERNAL_MODULE__993__) => {\nreturn ","export const MODE_IDLE = 'idle';\nexport const MODE_PANNING = 'panning';\nexport const MODE_ZOOMING = 'zooming';\n\nexport const TOOL_AUTO = 'auto';\nexport const TOOL_NONE = 'none';\nexport const TOOL_PAN = 'pan';\nexport const TOOL_ZOOM_IN = 'zoom-in';\nexport const TOOL_ZOOM_OUT = 'zoom-out';\n\nexport const POSITION_NONE = 'none';\nexport const POSITION_TOP = 'top';\nexport const POSITION_RIGHT = 'right';\nexport const POSITION_BOTTOM = 'bottom';\nexport const POSITION_LEFT = 'left';\n\nexport const ACTION_ZOOM = 'zoom';\nexport const ACTION_PAN = 'pan';\n\nexport const ALIGN_CENTER = 'center';\nexport const ALIGN_LEFT = 'left';\nexport const ALIGN_RIGHT = 'right';\nexport const ALIGN_TOP = 'top';\nexport const ALIGN_BOTTOM = 'bottom';\nexport const ALIGN_COVER = 'cover';\n\nexport const INITIAL_VALUE = {}\n","import ViewerMouseEvent from './viewer-mouse-event';\nimport ViewerTouchEvent from './viewer-touch-event';\n\nexport default function eventFactory(originalEvent, value, SVGViewer) {\n\n  let eventType = originalEvent.type;\n\n  switch (eventType) {\n    case \"mousemove\":\n    case \"mouseup\":\n    case \"mousedown\":\n    case \"click\":\n    case \"dblclick\":\n      return new ViewerMouseEvent(originalEvent, value, SVGViewer);\n\n    case \"touchstart\":\n    case \"touchmove\":\n    case \"touchend\":\n    case \"touchcancel\":\n      return new ViewerTouchEvent(originalEvent, value, SVGViewer);\n\n    default:\n      throw new Error(`${eventType} not supported`);\n  }\n}\n","import {decompose} from '../features/common'\n\nexport default class ViewerEvent {\n  constructor(originalEvent, value, SVGViewer) {\n    this.originalEvent = originalEvent;\n    this.value = value;\n    this.SVGViewer = SVGViewer;\n  }\n\n  get scaleFactor() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.scaleFactor;\n  }\n\n  get translationX() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationX;\n  }\n\n  get translationY() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationY;\n  }\n\n  preventDefault(){\n    this.originalEvent.preventDefault();\n  }\n\n  stopPropagation(){\n    this.originalEvent.stopPropagation();\n  }\n}\n","import ViewerEvent from './viewer-event';\nimport {getMousePosition} from \"../features/interactions\";\nimport {getSVGPoint} from \"../features/common\";\n\nexport default class ViewerMouseEvent extends ViewerEvent {\n  get point() {\n    if (!this._cachePoint) {\n      const {originalEvent: event, SVGViewer, value} = this;\n      const mousePosition = getMousePosition(event, SVGViewer)\n      this._cachePoint = getSVGPoint(value, mousePosition.x, mousePosition.y);\n    }\n    return this._cachePoint;\n  }\n\n  get x() {\n    return this.point.x;\n  }\n\n  get y() {\n    return this.point.y;\n  }\n}\n","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerTouchEvent extends ViewerEvent {\n  get points() {\n    if (!this._cachePoints)\n      this._cachePoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.touches, this.SVGViewer, this.value);\n\n    return this._cachePoints;\n  }\n\n  get changedPoints() {\n    if (!this._cacheChangedPoints)\n      this._cacheChangedPoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.changedTouches, this.SVGViewer, this.value);\n\n    return this._cacheChangedPoints;\n  }\n\n  static touchesToPoints(touches, SVGViewer, value) {\n    let points = [];\n    for (let i = 0; i < touches.length; i++) {\n      let touch = touches[i];\n\n      let rect = SVGViewer.getBoundingClientRect();\n      let x = touch.clientX - Math.round(rect.left);\n      let y = touch.clientY - Math.round(rect.top);\n\n      let point = getSVGPoint(value, x, y);\n\n      points.push({...point, identifier: touch.identifier});\n    }\n    return points;\n  }\n}\n","import {MODE_IDLE} from '../constants';\nimport {applyToPoint, fromObject, identity, inverse, scale, transform, translate} from 'transformation-matrix';\n\nconst VERSION = 3\nexport const DEFAULT_MODE = MODE_IDLE\n\n/**\n * Obtain default value\n * @returns {Object}\n */\nexport function getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin = null, scaleFactorMax = null) {\n  return set({}, {\n    ...identity(),\n    version: VERSION,\n    mode: DEFAULT_MODE,\n    focus: false,\n    pinchPointDistance: null,\n    prePinchMode: null,\n    viewerWidth,\n    viewerHeight,\n    SVGMinX,\n    SVGMinY,\n    SVGWidth,\n    SVGHeight,\n    scaleFactorMin,\n    scaleFactorMax,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    miniatureOpen: true,\n    lastAction: null,\n  });\n}\n\n/**\n * Change value\n * @param value\n * @param patch\n * @param action\n * @returns {Object}\n */\nexport function set(value, patch, action = null) {\n  value = Object.assign({}, value, patch, {lastAction: action});\n  return Object.freeze(value);\n}\n\n/**\n * value valid check\n * @param value\n */\nexport function isValueValid(value) {\n  return value !== null\n    && typeof value === 'object'\n    && value.hasOwnProperty('version')\n    && value.version === VERSION;\n}\n\n/**\n * Export x,y coords relative to SVG\n * @param value\n * @param viewerX\n * @param viewerY\n * @returns {*|{x, y}|{x: number, y: number}}\n */\nexport function getSVGPoint(value, viewerX, viewerY) {\n  let matrix = fromObject(value);\n\n  let inverseMatrix = inverse(matrix);\n  return applyToPoint(inverseMatrix, {x: viewerX, y: viewerY});\n}\n\n/**\n * Decompose matrix from value\n * @param value\n * @returns {{scaleFactor: number, translationX: number, translationY: number}}\n */\nexport function decompose(value) {\n  let matrix = fromObject(value);\n\n  return {\n    scaleFactor: matrix.a,\n    translationX: matrix.e,\n    translationY: matrix.f\n  }\n}\n\n/**\n *\n * @param value\n * @param focus\n * @returns {Object}\n */\nexport function setFocus(value, focus) {\n  return set(value, {focus});\n}\n\n\n/**\n *\n * @param value\n * @param viewerWidth\n * @param viewerHeight\n * @returns {Object}\n */\nexport function setViewerSize(value, viewerWidth, viewerHeight) {\n  return set(value, {viewerWidth, viewerHeight});\n}\n\n/**\n *\n * @param value\n * @param SVGMinX\n * @param SVGMinY\n * @param SVGWidth\n * @param SVGHeight\n * @returns {Object}\n */\nexport function setSVGViewBox(value, SVGMinX, SVGMinY, SVGWidth, SVGHeight) {\n  return set(value, {SVGMinX, SVGMinY, SVGWidth, SVGHeight});\n}\n\n/**\n *\n * @param value\n * @param scaleFactorMin\n * @param scaleFactorMax\n * @returns {Object}\n */\n//TODO rename to setZoomLimits\nexport function setZoomLevels(value, scaleFactorMin, scaleFactorMax) {\n  return set(value, {scaleFactorMin, scaleFactorMax});\n}\n\n/**\n *\n * @param value\n * @param SVGPointX\n * @param SVGPointY\n * @param zoomLevel\n * @returns {Object}\n */\nexport function setPointOnViewerCenter(value, SVGPointX, SVGPointY, zoomLevel) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let matrix = transform(\n    translate(-SVGPointX + viewerWidth / 2, -SVGPointY + viewerHeight / 2),   //4\n    translate(SVGPointX, SVGPointY),                                          //3\n    scale(zoomLevel, zoomLevel),                                              //2\n    translate(-SVGPointX, -SVGPointY)                                         //1\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function reset(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    ...identity()\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function resetMode(value) {\n  return set(value, {\n    mode: DEFAULT_MODE,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  })\n}\n","import {transform, fromObject, translate, scale} from 'transformation-matrix';\nimport {\n  TOOL_PAN, TOOL_AUTO, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  MODE_IDLE, MODE_PANNING, MODE_ZOOMING\n} from '../constants';\nimport {resetMode, getSVGPoint, set} from './common';\nimport {onMouseDown, onMouseMove, onMouseUp} from './interactions';\nimport {isZoomLevelGoingOutOfBounds, limitZoomLevel} from './zoom';\n\nfunction getTouchPosition(touch, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = touch.clientX - Math.round(left);\n  let y = touch.clientY - Math.round(top);\n\n  return { x, y };\n}\n\nexport function onTouchStart(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (event.touches.length !== 1) {\n    if ([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0){\n      return resetMode(value);\n    } else if([MODE_IDLE].indexOf(value.mode) >= 0){\n      return value;\n    }\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, value, props, onMouseDown);\n}\n\nexport function onTouchMove(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, value, props, onMouseMove);\n}\n\nexport function onTouchEnd(event, ViewerDOM, tool, value, props) {\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  let nextValue = shouldResetPinchPointDistance(event, value, props) ? set(value, { pinchPointDistance: null }) : value;\n\n  if (event.touches.length > 0) {\n    return nextValue;\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, nextValue, props, onMouseUp);\n}\n\nexport function onTouchCancel(event, ViewerDOM, tool, value, props) {\n  event.stopPropagation();\n  event.preventDefault();\n\n  return resetMode(value);\n}\n\nfunction hasPinchPointDistance(value) {\n  return typeof value.pinchPointDistance === 'number';\n}\n\nfunction shouldResetPinchPointDistance(event, value, props) {\n  return props.detectPinchGesture && hasPinchPointDistance(value) && event.touches.length < 2;\n}\n\nfunction isMultiTouch(event, props) {\n  return props.detectPinchGesture && event.touches.length > 1;\n}\n\nfunction onSingleTouch(event, ViewerDOM, tool, value, props, nextValueFn) {\n  let nextValue = event.touches.length === 0 ? set(value, { mode: value.prePinchMode ? MODE_IDLE : value.mode, prePinchMode: null }) : value;\n  let touch = event.touches.length > 0 ? event.touches[0] : event.changedTouches[0];\n  let touchPosition = getTouchPosition(touch, ViewerDOM);\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n    case TOOL_ZOOM_IN:\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      event.stopPropagation();\n      event.preventDefault();\n      return nextValueFn(event, ViewerDOM, tool, nextValue, props, touchPosition);\n\n    default:\n      return nextValue;\n  }\n}\n\nfunction onMultiTouch(event, ViewerDOM, tool, value, props) {\n  const {left, top} = ViewerDOM.getBoundingClientRect();\n  const x1 = event.touches[0].clientX - Math.round(left);\n  const y1 = event.touches[0].clientY - Math.round(top);\n  const x2 = event.touches[1].clientX - Math.round(left);\n  const y2 = event.touches[1].clientY - Math.round(top);\n  const pinchPointDistance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n  const previousPointDistance = hasPinchPointDistance(value) ? value.pinchPointDistance : pinchPointDistance;\n  const svgPoint = getSVGPoint(value, (x1 + x2) / 2, (y1 + y2) / 2);\n  let distanceFactor = pinchPointDistance/previousPointDistance;\n\n  if (isZoomLevelGoingOutOfBounds(value, distanceFactor)) {\n    // Do not change translation and scale of value\n    return value;\n  }\n\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n\n  let matrix = transform(\n    fromObject(value),\n    translate(svgPoint.x, svgPoint.y),\n    scale(distanceFactor, distanceFactor),\n    translate(-svgPoint.x, -svgPoint.y)\n  );\n\n  return set(value, set({\n    mode: MODE_ZOOMING,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    prePinchMode: value.prePinchMode ? value.prePinchMode : value.mode,\n    pinchPointDistance\n  }));\n}\n","import {MODE_PANNING, MODE_ZOOMING, TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,} from '../constants';\nimport {getSVGPoint, setFocus} from './common';\nimport {autoPanIfNeeded, startPanning, stopPanning, updatePanning} from './pan';\nimport {startZooming, stopZooming, updateZooming, zoom} from './zoom';\nimport mapRange from '../utils/mapRange';\n\nexport function getMousePosition(event, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = event.clientX - Math.round(left);\n  let y = event.clientY - Math.round(top);\n  return {x, y}\n}\n\nexport function onMouseDown(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      let SVGPoint = getSVGPoint(value, x, y);\n      nextValue = zoom(value, SVGPoint.x, SVGPoint.y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      nextValue = startZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      nextValue = startPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseMove(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let forceExit = (event.buttons === 0); //the mouse exited and reentered into svg\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = forceExit ? stopZooming(value, x, y, props.scaleFactor, props) : updateZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = forceExit ? stopPanning(value) : updatePanning(value, x, y, props.preventPanOutside ? 20 : undefined);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseUp(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, props.scaleFactor, props);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = stopPanning(value);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onDoubleClick(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  if (tool === TOOL_AUTO && !props.disableDoubleClickZoomWithToolAuto) {\n    const {modifierKeys = []} = props;\n    let SVGPoint = getSVGPoint(value, x, y);\n    let modifierKeysReducer = (current, modifierKey) => current || event.getModifierState(modifierKey);\n    let modifierKeyActive = modifierKeys.reduce(modifierKeysReducer, false);\n    let scaleFactor = modifierKeyActive ? 1 / props.scaleFactor : props.scaleFactor;\n    nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onWheel(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  if (!props.detectWheel) return value;\n\n  let delta = Math.max(-1, Math.min(1, event.deltaY));\n  let scaleFactor = mapRange(delta, -1, 1, props.scaleFactorOnWheel, 1 / props.scaleFactorOnWheel);\n\n  let SVGPoint = getSVGPoint(value, x, y);\n  let nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseEnterOrLeave(event, ViewerDOM, tool, value, props, coords = null) {\n  let nextValue = setFocus(value, event.type === 'mouseenter');\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onInterval(event, ViewerDOM, tool, value, props, coords = null) {\n  let {x, y} = coords;\n\n  if (!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0)) return value;\n  if (!props.detectAutoPan) return value;\n  if (!value.focus) return value;\n\n  return autoPanIfNeeded(value, x, y);\n}\n","import {set} from './common';\n\n\nexport function openMiniature(value) {\n  return set(value, {\n    miniatureOpen: true\n  });\n}\n\nexport function closeMiniature(value) {\n  return set(value, {\n    miniatureOpen: false\n  });\n}\n\n","import {ACTION_PAN, MODE_IDLE, MODE_PANNING} from '../constants';\nimport {set, getSVGPoint} from './common';\nimport {fromObject, translate, transform, applyToPoints} from 'transformation-matrix';\n\n/**\n * Atomic pan operation\n * @param value\n * @param SVGDeltaX drag movement\n * @param SVGDeltaY drag movement\n * @param panLimit forces the image to keep at least x pixel inside the viewer\n * @returns {Object}\n */\nexport function pan(value, SVGDeltaX, SVGDeltaY, panLimit = undefined) {\n\n  let matrix = transform(\n    fromObject(value),              //2\n    translate(SVGDeltaX, SVGDeltaY) //1\n  );\n\n  // apply pan limits\n  if (panLimit) {\n    let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(matrix, [\n      {x: value.SVGMinX + panLimit, y: value.SVGMinY + panLimit},\n      {x: value.SVGMinX + value.SVGWidth - panLimit, y: value.SVGMinY + value.SVGHeight - panLimit}\n    ]);\n\n    //x limit\n    let moveX = 0;\n    if (value.viewerWidth - x1 < 0)\n      moveX = value.viewerWidth - x1;\n    else if (x2 < 0) moveX = -x2;\n\n\n    //y limit\n    let moveY = 0;\n    if (value.viewerHeight - y1 < 0)\n      moveY = value.viewerHeight - y1;\n    else if (y2 < 0) moveY = -y2;\n\n    //apply limits\n    matrix = transform(\n      translate(moveX, moveY),\n      matrix\n    )\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  }, ACTION_PAN);\n}\n\n/**\n * Start pan operation lifecycle\n * @param value\n * @param viewerX\n * @param viewerY\n * @return {ReadonlyArray<unknown>}\n */\nexport function startPanning(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_PANNING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  }, ACTION_PAN);\n}\n\n/**\n * Continue pan operation lifecycle\n * @param value\n * @param viewerX\n * @param viewerY\n * @param panLimit\n * @return {ReadonlyArray<unknown>}\n */\nexport function updatePanning(value, viewerX, viewerY, panLimit) {\n  if (value.mode !== MODE_PANNING) throw new Error('update pan not allowed in this mode ' + value.mode);\n\n  let {endX, endY} = value;\n\n  let start = getSVGPoint(value, endX, endY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  let deltaX = end.x - start.x;\n  let deltaY = end.y - start.y;\n\n  let nextValue = pan(value, deltaX, deltaY, panLimit);\n  return set(nextValue, {\n    mode: MODE_PANNING,\n    endX: viewerX,\n    endY: viewerY,\n  }, ACTION_PAN);\n}\n\n/**\n * Stop pan operation lifecycle\n * @param value\n * @return {ReadonlyArray<unknown>}\n */\nexport function stopPanning(value) {\n  return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    }, ACTION_PAN\n  );\n}\n\n/**\n * when pointer is on viewer edge -> pan image\n * @param value\n * @param viewerX\n * @param viewerY\n * @return {ReadonlyArray<any>}\n */\nexport function autoPanIfNeeded(value, viewerX, viewerY) {\n  let deltaX = 0;\n  let deltaY = 0;\n\n  if (viewerY <= 20) deltaY = 2;\n  if (value.viewerWidth - viewerX <= 20) deltaX = -2;\n  if (value.viewerHeight - viewerY <= 20) deltaY = -2;\n  if (viewerX <= 20) deltaX = 2;\n\n  deltaX = deltaX / value.d;\n  deltaY = deltaY / value.d;\n\n  return (deltaX === 0 && deltaY === 0) ? value : pan(value, deltaX, deltaY);\n}\n","import {fromObject, scale, transform, translate} from 'transformation-matrix';\n\nimport {\n  ACTION_ZOOM, MODE_IDLE, MODE_ZOOMING,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM, ALIGN_COVER\n} from '../constants';\nimport {decompose, getSVGPoint, set} from './common';\nimport calculateBox from '../utils/calculateBox';\n\nexport function isZoomLevelGoingOutOfBounds(value, scaleFactor) {\n  const {scaleFactor: curScaleFactor} = decompose(value)\n  const lessThanScaleFactorMin = value.scaleFactorMin && (curScaleFactor * scaleFactor) < value.scaleFactorMin;\n  const moreThanScaleFactorMax = value.scaleFactorMax && (curScaleFactor * scaleFactor) > value.scaleFactorMax;\n\n  return (lessThanScaleFactorMin && scaleFactor < 1) || (moreThanScaleFactorMax && scaleFactor > 1);\n}\n\nexport function limitZoomLevel(value, matrix) {\n  let scaleLevel = matrix.a;\n\n  if(value.scaleFactorMin != null) {\n    // limit minimum zoom\n    scaleLevel = Math.max(scaleLevel, value.scaleFactorMin);\n  }\n\n  if(value.scaleFactorMax != null) {\n    // limit maximum zoom\n    scaleLevel = Math.min(scaleLevel, value.scaleFactorMax);\n  }\n\n  return set(matrix, {\n    a: scaleLevel,\n    d: scaleLevel\n  });\n}\n\nexport function zoom(value, SVGPointX, SVGPointY, scaleFactor) {\n  if (isZoomLevelGoingOutOfBounds(value, scaleFactor)) {\n      // Do not change translation and scale of value\n      return value;\n  }\n\n  const matrix = transform(\n    fromObject(value),\n    translate(SVGPointX, SVGPointY),\n    scale(scaleFactor, scaleFactor),\n    translate(-SVGPointX, -SVGPointY)\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\n//ENHANCEMENT: add ability to control alignment\n//ENHANCEMENT: add ability to selectively fit image inside viewer\n//ENHANCEMENT: refactor some logic in order to merge with fitToViewer function\nexport function fitSelection(value, selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let scaleX = viewerWidth / selectionWidth;\n  let scaleY = viewerHeight / selectionHeight;\n\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  const matrix = transform(\n    scale(scaleLevel, scaleLevel),                      //2\n    translate(-selectionSVGPointX, -selectionSVGPointY) //1\n  );\n\n  if(isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function fitToViewer(value, SVGAlignX=ALIGN_LEFT, SVGAlignY=ALIGN_TOP) {\n  let {viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight} = value;\n\n  let scaleX = viewerWidth / SVGWidth;\n  let scaleY = viewerHeight / SVGHeight;\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  let scaleMatrix = scale(scaleLevel, scaleLevel);\n\n  let translateX = -SVGMinX * scaleX;\n  let translateY = -SVGMinY * scaleY;\n\n // after fitting, SVG and the viewer will match in width (1) or in height (2) or SVG will cover the container with preserving aspect ratio (0)\n if (scaleX < scaleY) {\n    let remainderY = viewerHeight - scaleX * SVGHeight;\n\n    //(1) match in width, meaning scaled SVGHeight <= viewerHeight\n    switch(SVGAlignY) {\n      case ALIGN_TOP:\n        translateY = -SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_CENTER:\n        translateY = Math.round(remainderY / 2) - SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_BOTTOM:\n        translateY = remainderY - SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_COVER:\n        scaleMatrix = scale(scaleY, scaleY); // (0) we must now match to short edge, in this case - height\n        let remainderX = viewerWidth - scaleY * SVGWidth; // calculate remainder in the other scale\n\n        translateX = SVGMinX + Math.round(remainderX / 2); // center by the long edge\n      break;\n\n      default:\n        //no op\n    }\n  } else {\n    let remainderX = viewerWidth - scaleY * SVGWidth;\n\n    //(2) match in height, meaning scaled SVGWidth <= viewerWidth\n    switch(SVGAlignX) {\n      case ALIGN_LEFT:\n        translateX = -SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_CENTER:\n        translateX = Math.round(remainderX / 2) - SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_RIGHT:\n        translateX = remainderX - SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_COVER:\n        scaleMatrix = scale(scaleX, scaleX); // (0) we must now match to short edge, in this case - width\n        let remainderY = viewerHeight - scaleX * SVGHeight; // calculate remainder in the other scale\n\n        translateY = SVGMinY + Math.round(remainderY / 2); // center by the long edge\n      break;\n\n      default:\n        //no op\n    }\n  }\n\n  const translationMatrix = translate(translateX, translateY);\n\n  const matrix = transform(\n    translationMatrix, //2\n    scaleMatrix        //1\n  );\n\n  if (isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function zoomOnViewerCenter(value, scaleFactor) {\n  let {viewerWidth, viewerHeight} = value;\n  let SVGPoint = getSVGPoint(value, viewerWidth / 2, viewerHeight / 2);\n  return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n}\n\nexport function startZooming(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_ZOOMING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function updateZooming(value, viewerX, viewerY) {\n  if (value.mode !== MODE_ZOOMING) throw new Error('update selection not allowed in this mode ' + value.mode);\n\n  return set(value, {\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function stopZooming(value, viewerX, viewerY, scaleFactor) {\n  const TOLERATED_DISTANCE = 7 //minimum distance to choose if area selection or drill down on point\n  let {startX, startY} = value;\n\n  let start = getSVGPoint(value, startX, startY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  if (Math.abs(startX - viewerX) > TOLERATED_DISTANCE && Math.abs(startY - viewerY) > TOLERATED_DISTANCE) {\n    let box = calculateBox(start, end);\n    return fitSelection(value, box.x, box.y, box.width, box.height);\n  } else {\n    let SVGPoint = getSVGPoint(value, viewerX, viewerY);\n    return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n  }\n}\n","export {default as ReactSVGPanZoom} from './viewer';\nexport {default as UncontrolledReactSVGPanZoom} from './uncontrolled-viewer';\nexport {default as Toolbar} from './ui-toolbar/toolbar';\nexport {default as ToolbarButton} from './ui-toolbar/toolbar-button';\nexport {default as IconCursor} from './ui-toolbar/icon-cursor';\nexport {default as IconPan} from './ui-toolbar/icon-pan';\nexport {default as IconFit} from './ui-toolbar/icon-fit';\nexport {default as IconZoomIn} from './ui-toolbar/icon-zoom-in';\nexport {default as IconZoomOut} from './ui-toolbar/icon-zoom-out';\nexport {default as Miniature} from './ui-miniature/miniature';\nexport {setPointOnViewerCenter, reset} from './features/common';\nexport {pan} from './features/pan';\nexport {zoom, fitSelection, fitToViewer, zoomOnViewerCenter} from './features/zoom';\nexport {openMiniature, closeMiniature} from './features/miniature'\nexport * from './constants';\n","import {isNullOrUndefined} from \"./utils/is\";\n\nconst github_base = 'https://github.com/chrvadala/react-svg-pan-zoom/blob/main'\n\nconst doc_v2_to_v3 = github_base + '/docs/migrate-from-v2-to-v3.md'\n\nexport function tipControlledComponent() {\n  console.error(`HEY! With ReactSVGPanZoom >= 3 you MUST specify value and tool props. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecatedMiniatureProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the props miniaturePosition, miniatureBackground, miniatureWidth, miniatureHeight can be specified as key in the miniatureProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecateToolbarProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the prop toolbarPosition can be specified as key in the toolbarProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function printMigrationTipsRelatedToProps(props){\n  if (\n    isNullOrUndefined(props.tool) ||\n    isNullOrUndefined(props.value)\n  ) tipControlledComponent()\n\n  if (\n    !isNullOrUndefined(props.miniaturePosition) ||\n    !isNullOrUndefined(props.miniatureBackground) ||\n    !isNullOrUndefined(props.miniatureWidth) ||\n    !isNullOrUndefined(props.miniatureHeight)\n  ) tipDeprecatedMiniatureProps()\n\n\n  if (\n    !isNullOrUndefined(props.toolbarPosition)\n  ) tipDeprecateToolbarProps()\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\n//credits https://materialdesignicons.com/icon/chevron-up\n\nexport default function IconArrow({open, position}) {\n\n  let transform = 0;\n\n  switch (position){\n    case POSITION_LEFT:\n      transform = open ? \"rotate(225, 12, 13)\" : \"rotate(45, 12, 13)\";\n      break;\n\n    case POSITION_RIGHT:\n      transform = transform = open ? \"rotate(135, 12, 13)\" : \"rotate(-45, 12, 13)\";\n      break;\n\n    default:\n      //no op\n  }\n\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g transform={transform}>\n        <path fill=\"#000000\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\"/>\n      </g>\n    </svg>\n  );\n}\n\nIconArrow.propTypes = {\n  open: PropTypes.bool.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_miniature'\n\nfunction MiniatureMask({SVGMinX, SVGMinY, SVGWidth, SVGHeight, x1, y1, x2, y2, zoomToFit, _uid}) {\n  const maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <mask id={maskID}>\n          <rect x={SVGMinX} y={SVGMinY} width={SVGWidth} height={SVGHeight} fill=\"#ffffff\"/>\n          <rect x={x1} y={y1} width={x2 - x1} height={y2 - y1}/>\n        </mask>\n      </defs>\n\n      <rect\n        x={SVGMinX}\n        y={SVGMinY}\n        width={SVGWidth}\n        height={SVGHeight}\n        style={{\n          stroke: \"none\",\n          fill: \"#000\",\n          mask: `url(#${maskID})`,\n          opacity: 0.4\n        }}\n      />\n    </g>)\n}\n\nMiniatureMask.propTypes = {\n  SVGWidth: PropTypes.number.isRequired,\n  SVGHeight: PropTypes.number.isRequired,\n  SVGMinX: PropTypes.number.isRequired,\n  SVGMinY: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired,\n  zoomToFit: PropTypes.number.isRequired,\n}\n\nexport default RandomUID(MiniatureMask)\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {openMiniature, closeMiniature} from '../features/miniature';\nimport IconArrow from './icon-arrow';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\nexport default function MiniatureToggleButton({value, onChangeValue, position}) {\n  let style = {\n    width: \"24px\",\n    height: \"24px\",\n    display: \"block\",\n    position: \"absolute\",\n    bottom: 0,\n    [position === POSITION_LEFT ? 'left' : 'right']: '0px',\n    background: \"rgba(19, 20, 22, 0.901961)\",\n    border: 0,\n    padding: 0,\n    outline: 0,\n    color: \"#fff\"\n  };\n\n  let action = value.miniatureOpen ? closeMiniature : openMiniature;\n\n  return (\n    <button type=\"button\" style={style} onClick={() => onChangeValue(action(value))}>\n      <IconArrow open={value.miniatureOpen} position={position}/>\n    </button>\n  )\n\n}\n\nMiniatureToggleButton.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_LEFT, POSITION_RIGHT,} from '../constants';\nimport {applyToPoints, inverse} from 'transformation-matrix';\nimport MiniatureToggleButton from './miniature-toggle-button';\nimport MiniatureMask from './miniature-mask';\n\n\nconst DEFAULT_BACKGROUND = \"#616264\"\n\nexport default function Miniature({ value,\n  onChangeValue,\n  children,\n  SVGBackground,\n  background = DEFAULT_BACKGROUND,\n  position = POSITION_LEFT,\n  width: miniatureWidth = 100,\n  height: miniatureHeight = 80\n} ) {\n\n  let {SVGMinX, SVGMinY, SVGWidth, SVGHeight, viewerWidth, viewerHeight} = value;\n\n  let ratio = SVGHeight / SVGWidth;\n\n  let zoomToFit = ratio >= 1\n    ? miniatureHeight / SVGHeight\n    : miniatureWidth / SVGWidth;\n\n  let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(inverse(value), [\n    {x: 0, y: 0},\n    {x: viewerWidth, y: viewerHeight}\n  ]);\n\n  let width, height;\n  if (value.miniatureOpen) {\n    width = miniatureWidth;\n    height = miniatureHeight;\n  } else {\n    width = 24;\n    height = 24;\n  }\n\n  let style = {\n    position: \"absolute\",\n    overflow: \"hidden\",\n    outline: \"1px solid rgba(19, 20, 22, 0.90)\",\n    transition: \"width 200ms ease, height 200ms ease, bottom 200ms ease\",\n    width: width + \"px\",\n    height: height + \"px\",\n    bottom: \"6px\",\n    [position === POSITION_LEFT ? 'left' : 'right']: \"6px\",\n    background\n  };\n\n  let centerTranslation = ratio >= 1\n    ? `translate(${(miniatureWidth - (SVGWidth * zoomToFit)) / 2 - SVGMinX * zoomToFit}, ${ - SVGMinY * zoomToFit})`\n    : `translate(${ - SVGMinX * zoomToFit}, ${(miniatureHeight - (SVGHeight * zoomToFit)) / 2 - SVGMinY * zoomToFit})`;\n\n  return (\n    <div role=\"navigation\" style={style}>\n      <svg\n        width={miniatureWidth}\n        height={miniatureHeight}\n        style={{pointerEvents: \"none\"}}>\n        <g transform={centerTranslation}>\n          <g transform={`scale(${zoomToFit}, ${zoomToFit})`}>\n\n            <rect\n              fill={SVGBackground}\n              x={SVGMinX}\n              y={SVGMinY}\n              width={SVGWidth}\n              height={SVGHeight}/>\n\n            {children}\n\n            <MiniatureMask\n              SVGWidth={SVGWidth}\n              SVGHeight={SVGHeight}\n              SVGMinX={SVGMinX}\n              SVGMinY={SVGMinY}\n              x1={x1}\n              y1={y1}\n              x2={x2}\n              y2={y2}\n              zoomToFit={zoomToFit}\n            />\n\n          </g>\n        </g>\n      </svg>\n      <MiniatureToggleButton value={value} onChangeValue={onChangeValue} position={position}/>\n    </div>\n  )\n}\n\nMiniature.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  SVGBackground: PropTypes.string.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]),\n  background: PropTypes.string,\n  width: PropTypes.number,\n  height: PropTypes.number,\n};\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconCursor() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconFit() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://materialdesignicons.com/icon/cursor-move\n\nexport default function IconPan() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_in\n\nexport default function IconZoomIn() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g>\n        <path\n          d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_out\n\nexport default function IconZoomOut() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n    </svg>\n  )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  POSITION_TOP, POSITION_BOTTOM\n} from '../constants';\n\nexport default class ToolbarButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {hover: false};\n  }\n\n  change(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.type) {\n      case 'mouseenter':\n      case 'touchstart':\n        this.setState({hover: true});\n        break;\n      case 'mouseleave':\n      case 'touchend':\n      case 'touchcancel':\n        this.setState({hover: false});\n        break;\n      default:\n        //noop\n    }\n  }\n\n  render() {\n    let style = {\n      display: \"block\",\n      width: \"24px\",\n      height: \"24px\",\n      margin: [POSITION_TOP, POSITION_BOTTOM].indexOf(this.props.toolbarPosition) >= 0 ? \"2px 1px\" : \"1px 2px\",\n      color: this.props.active || this.state.hover ? this.props.activeColor : '#FFF',\n      transition: \"color 200ms ease\",\n      background: \"none\",\n      padding: \"0px\",\n      border: \"0px\",\n      outline: \"0px\",\n      cursor: \"pointer\"\n    };\n\n    return (\n      <button\n        onMouseEnter={e => this.change(e)}\n        onMouseLeave={e => this.change(e)}\n\n        onTouchStart={e => {\n          this.change(e);\n          this.props.onClick(e);\n        }}\n        onTouchEnd={e => this.change(e)}\n        onTouchCancel={e => this.change(e)}\n\n        onClick={this.props.onClick}\n\n        style={style}\n        title={this.props.title}\n        name={this.props.name}\n        type=\"button\"\n      >{this.props.children}</button>\n    )\n  }\n\n}\n\nToolbarButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  toolbarPosition: PropTypes.string.isRequired,\n  activeColor: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  active: PropTypes.bool.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM,\n} from '../constants';\n\nimport {fitToViewer} from '../features/zoom';\nimport IconCursor from './icon-cursor';\nimport IconPan from './icon-pan';\nimport IconZoomIn from './icon-zoom-in';\nimport IconZoomOut from './icon-zoom-out';\nimport IconFit from './icon-fit';\nimport ToolbarButton from './toolbar-button';\n\nconst DEFAULT_ACTIVE_TOOL_COLOR = '#1CA6FC'\nexport default function Toolbar({ tool,\n  value,\n  onChangeValue,\n  onChangeTool,\n  activeToolColor = DEFAULT_ACTIVE_TOOL_COLOR,\n  position = POSITION_RIGHT,\n  SVGAlignX = ALIGN_LEFT,\n  SVGAlignY = ALIGN_TOP\n}) {\n\n  let handleChangeTool = (event, tool) => {\n    onChangeTool(tool);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let handleFit = event => {\n    onChangeValue(fitToViewer(value, SVGAlignX, SVGAlignY));\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let isHorizontal = [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0;\n\n  let style = {\n    //position\n    position: \"absolute\",\n    transform: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"translate(-50%, 0px)\" : \"none\",\n    top: [POSITION_LEFT, POSITION_RIGHT, POSITION_TOP].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    left: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"50%\" : (POSITION_LEFT === position ? \"5px\" : \"unset\"),\n    right: [POSITION_RIGHT].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    bottom: [POSITION_BOTTOM].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n\n    //inner styling\n    backgroundColor: \"rgba(19, 20, 22, 0.90)\",\n    borderRadius: \"2px\",\n    display: \"flex\",\n    flexDirection: isHorizontal ? \"row\" : \"column\",\n    padding: isHorizontal ? \"1px 2px\" : \"2px 1px\"\n  };\n\n  return (\n    <div style={style} role=\"toolbar\">\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_NONE}\n        activeColor={activeToolColor}\n        name=\"unselect-tools\"\n        title=\"Selection\"\n        onClick={ event => handleChangeTool(event, TOOL_NONE) }>\n        <IconCursor/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_PAN}\n        activeColor={activeToolColor}\n        name=\"select-tool-pan\"\n        title=\"Pan\"\n        onClick={ event => handleChangeTool(event, TOOL_PAN) }>\n        <IconPan/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_IN}\n        activeColor={activeToolColor}\n        name=\"select-tool-zoom-in\"\n        title=\"Zoom in\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_IN) }>\n        <IconZoomIn/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_OUT}\n        activeColor={activeToolColor}\n        name=\"select-tool-zoom-out\"\n        title=\"Zoom out\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_OUT) }>\n        <IconZoomOut/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={false}\n        activeColor={activeToolColor}\n        name=\"fit-to-viewer\"\n        title=\"Fit to viewer\"\n        onClick={ event => handleFit(event) }>\n        <IconFit/>\n      </ToolbarButton>\n    </div>\n  )\n}\n\nToolbar.propTypes = {\n  tool: PropTypes.string.isRequired,\n  onChangeTool: PropTypes.func.isRequired,\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n  SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n  SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n  activeToolColor: PropTypes.string\n};\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT} from '../constants';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_border_gradient'\n\nfunction BorderGradient({direction, width, height, _uid}) {\n\n  let transform;\n\n  switch (direction) {\n    case POSITION_TOP:\n      transform = `translate(${width}, 0) rotate(90)`;\n      break;\n\n    case POSITION_RIGHT:\n      transform = `translate(${width}, ${height}) rotate(180)`;\n      break;\n\n    case POSITION_BOTTOM:\n      transform = `translate(0, ${height}) rotate(270)`;\n      break;\n\n    case POSITION_LEFT:\n    default:\n      transform = \" \";\n      break;\n  }\n\n  let gradientID = `${prefixID}_gradient_${_uid}`\n  let maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <linearGradient id={gradientID} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\" spreadMethod=\"pad\">\n          <stop offset=\"0%\" stopColor=\"#fff\" stopOpacity=\"0.8\"/>\n          <stop offset=\"100%\" stopColor=\"#000\" stopOpacity=\"0.5\"/>\n        </linearGradient>\n\n        <mask id={maskID} x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}>\n          <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n                style={{stroke: \"none\", fill: `url(#${gradientID})`}}/>\n        </mask>\n      </defs>\n\n      <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n            style={{stroke: \"none\", fill: \"#000\", mask: `url(#${maskID})`}} transform={transform}/>\n    </g>\n  );\n}\n\nBorderGradient.propTypes = {\n  direction: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\n\nexport default RandomUID(BorderGradient)\n","//specs: https://developer.mozilla.org/en-US/docs/Web/CSS/cursor\n\nlet needPrefix = (cursor) => ['zoom-in', 'zoom-out', 'grab', 'grabbing'].indexOf(cursor) > -1;\nlet userAgent = () => navigator.userAgent.toLowerCase();\nlet isFirefox = () => userAgent().indexOf('firefox') > -1;\nlet isWebkit = () => userAgent().indexOf('webkit') > -1;\n\nexport default function (cursor) {\n  if (!needPrefix(cursor)) return cursor;\n  if (isFirefox()) return `-moz-${cursor}`;\n  if (isWebkit()) return `-webkit-${cursor}`;\n}\n\n\n","//http://stackoverflow.com/a/4819886/1398836\n\nexport default function isTouchDevice() {\n  return 'ontouchstart' in window        // works on most browsers\n    || navigator.maxTouchPoints;       // works on IE10/11 and Surface\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport calculateBox from '../utils/calculateBox';\n\nexport default function Selection({startX, startY, endX, endY}) {\n  if (!startX || !startY || !endX || !endY) return null;\n\n  let box = calculateBox({x: startX, y: startY}, {x: endX, y: endY});\n\n  return (<rect\n    stroke=\"#969FFF\"\n    strokeOpacity={0.7}\n    fill=\"#F3F4FF\"\n    fillOpacity={0.7}\n    x={box.x}\n    y={box.y}\n    width={box.width}\n    height={box.height}\n    style={{pointerEvents: \"none\"}}/>);\n}\n\nSelection.propTypes = {\n  startX: PropTypes.number,\n  startY: PropTypes.number,\n  endX: PropTypes.number,\n  endY: PropTypes.number\n};\n","import React from \"react\";\nimport ReactSVGPanZoom from './viewer'\nimport PropTypes from \"prop-types\";\nimport {TOOL_NONE} from \"./constants\";\n\nexport default class UncontrolledReactSVGPanZoom extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: props.defaultValue || {},\n      tool: props.defaultTool || TOOL_NONE,\n    }\n\n    this.Viewer = null;\n    this.changeTool = this.changeTool.bind(this)\n    this.changeValue = this.changeValue.bind(this)\n  }\n\n  changeTool(tool) {\n    this.setState({tool})\n  }\n\n  changeValue(value) {\n    this.setState({value})\n  }\n\n  pan(SVGDeltaX, SVGDeltaY) {\n    this.Viewer.pan(SVGDeltaX, SVGDeltaY)\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    this.Viewer.zoom(SVGPointX, SVGPointY, scaleFactor)\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    this.Viewer.fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight)\n  }\n\n  fitToViewer(SVGAlignX, SVGAlignY) {\n    this.Viewer.fitToViewer(SVGAlignX, SVGAlignY)\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    this.Viewer.zoomOnViewerCenter(scaleFactor)\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    this.Viewer.setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel)\n  }\n\n  reset() {\n    this.Viewer.reset()\n  }\n\n  openMiniature() {\n    this.Viewer.openMiniature()\n  }\n\n  closeMiniature() {\n    this.Viewer.closeMiniature()\n  }\n\n  render() {\n    const {width, height, onChangeTool, onChangeValue, ...props} = this.props\n    const {tool, value} = this.state\n\n    return (\n      <ReactSVGPanZoom\n        width={width} height={height}\n        tool={tool} onChangeTool={this.changeTool}\n        value={value} onChangeValue={this.changeValue}\n        ref={Viewer => this.Viewer = Viewer}\n        {...props}\n      />\n    )\n  }\n}\n\nUncontrolledReactSVGPanZoom.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n\n  defaultValue: PropTypes.object,\n  defaultTool: PropTypes.string,\n}\n","import React from \"react\";\nimport getDisplayName from \"./getDisplayName\";\n\nlet uid = 1;\nconst nextUID = () => `uid${uid++}`;\n\nexport default function RandomUID(WrappedComponent) {\n  class RandomUID extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {uid: nextUID()}\n    }\n\n    render() {\n      return <WrappedComponent _uid={this.state.uid} {...this.props}/>\n    }\n  }\n\n  RandomUID.displayName = `RandomUID(${getDisplayName(WrappedComponent)})`;\n\n  return RandomUID;\n}\n","export default function calculateBox(start, end) {\n  if (start.x <= end.x && start.y <= end.y) {\n    return {\n      x: start.x,\n      y: start.y,\n      width: end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y <= end.y) {\n    return {\n      x: end.x,\n      y: start.y,\n      width: start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y >= end.y) {\n    return {\n      x: end.x,\n      y: end.y,\n      width: start.x - end.x,\n      height: start.y - end.y\n    };\n  } else if (start.x <= end.x && start.y >= end.y) {\n    return {\n      x: start.x,\n      y: end.y,\n      width: end.x - start.x,\n      height: start.y - end.y\n    };\n  }\n}\n\n","//https://facebook.github.io/react/docs/higher-order-components.html#convention-wrap-the-display-name-for-easy-debugging\nexport default function getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n","export function isNullOrUndefined(value) {\n  return typeof value === 'undefined' || value === null\n}\n","/**\n * Convert (re-map) an input value range into a destination range.\n * @param value\n * @param sourceStart\n * @param sourceEnd\n * @param targetStart\n * @param targetEnd\n * @return number\n */\n\nexport default function mapRange(value, sourceStart, sourceEnd, targetStart, targetEnd) {\n  return targetStart + (targetEnd - targetStart) * (value - sourceStart) / (sourceEnd - sourceStart);\n}\n","export default function parseViewBox(viewBoxString) {\n  // viewBox specs: https://www.w3.org/TR/SVG/coords.html#ViewBoxAttribute\n  return viewBoxString\n    .split(/[ ,]/) // split optional comma\n    .filter(Boolean) // remove empty strings\n    .map(Number); // cast to Number\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {toSVG} from 'transformation-matrix';\n//events\nimport eventFactory from './events/event-factory';\n//features\nimport {pan} from './features/pan';\nimport {\n  getDefaultValue,\n  isValueValid,\n  reset,\n  setPointOnViewerCenter,\n  setSVGViewBox,\n  setViewerSize,\n  setZoomLevels\n} from './features/common';\nimport {\n  onDoubleClick,\n  onInterval,\n  onMouseDown,\n  onMouseEnterOrLeave,\n  onMouseMove,\n  onMouseUp,\n  onWheel\n} from './features/interactions';\nimport parseViewBox from './utils/parseViewBox';\nimport {onTouchCancel, onTouchEnd, onTouchMove, onTouchStart} from './features/interactions-touch';\n\nimport {fitSelection, fitToViewer, zoom, zoomOnViewerCenter} from './features/zoom';\nimport {closeMiniature, openMiniature} from './features/miniature';\n//ui\nimport cursorPolyfill from './ui/cursor-polyfill';\nimport BorderGradient from './ui/border-gradient';\nimport Selection from './ui/selection';\nimport Toolbar from './ui-toolbar/toolbar';\nimport detectTouch from './ui/detect-touch';\nimport Miniature from './ui-miniature/miniature'\n\nimport {\n  ACTION_PAN,\n  ACTION_ZOOM,\n  ALIGN_BOTTOM,\n  ALIGN_CENTER,\n  ALIGN_LEFT,\n  ALIGN_RIGHT,\n  ALIGN_TOP,\n  MODE_IDLE,\n  MODE_PANNING,\n  MODE_ZOOMING,\n  POSITION_BOTTOM,\n  POSITION_LEFT,\n  POSITION_NONE,\n  POSITION_RIGHT,\n  POSITION_TOP,\n  TOOL_AUTO,\n  TOOL_NONE,\n  TOOL_PAN,\n  TOOL_ZOOM_IN,\n  TOOL_ZOOM_OUT\n} from './constants';\nimport {printMigrationTipsRelatedToProps} from \"./migration-tips\";\n\nexport default class ReactSVGPanZoom extends React.Component {\n\n  constructor(props, context) {\n    const {width: viewerWidth, height: viewerHeight, scaleFactorMin, scaleFactorMax, children} = props;\n    const {viewBox: SVGViewBox} = children.props;\n    let defaultValue;\n    if (SVGViewBox) {\n      const [SVGMinX, SVGMinY, SVGWidth, SVGHeight] = parseViewBox(SVGViewBox);\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax)\n    } else {\n      const {width: SVGWidth, height: SVGHeight} = children.props;\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, 0, 0, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax)\n    }\n\n    super(props, context);\n    this.ViewerDOM = null;\n    this.state = {\n      pointerX: null,\n      pointerY: null,\n      defaultValue\n    }\n    this.autoPanLoop = this.autoPanLoop.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props)\n    }\n  }\n\n  /** React hooks **/\n  componentDidUpdate(prevProps) {\n    const value = this.getValue();\n    const props = this.props\n\n    let nextValue = value;\n    let needUpdate = false;\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props)\n    }\n\n    // This block checks the size of the SVG\n    const {viewBox: SVGViewBox} = props.children.props;\n    if (SVGViewBox) {\n      // if the viewBox prop is specified\n      const [x, y, width, height] = parseViewBox(SVGViewBox);\n\n      if(value.SVGMinX !== x || value.SVGMinY !== y || value.SVGWidth !== width || value.SVGHeight !== height) {\n        nextValue = setSVGViewBox(nextValue, x, y, width, height);\n        needUpdate = true;\n      }\n    } else {\n      // if the width and height props are specified\n      const {width: SVGWidth, height: SVGHeight} = props.children.props;\n      if (value.SVGWidth !== SVGWidth || value.SVGHeight !== SVGHeight) {\n        nextValue = setSVGViewBox(nextValue, 0, 0, SVGWidth, SVGHeight);\n        needUpdate = true;\n      }\n    }\n\n    // This block checks the size of the viewer\n    if (\n      prevProps.width !== props.width ||\n      prevProps.height !== props.height\n    ) {\n      nextValue = setViewerSize(nextValue, props.width, props.height);\n      needUpdate = true;\n    }\n\n    // This blocks checks the scale factors\n    if (\n      prevProps.scaleFactorMin !== props.scaleFactorMin ||\n      prevProps.scaleFactorMax !== props.scaleFactorMax\n    ) {\n      nextValue = setZoomLevels(nextValue, props.scaleFactorMin, props.scaleFactorMax);\n      needUpdate = true;\n    }\n\n    if (needUpdate) {\n      this.setValue(nextValue);\n    }\n  }\n\n  componentDidMount() {\n    this.autoPanIsRunning = true;\n    requestAnimationFrame(this.autoPanLoop);\n    this.ViewerDOM.addEventListener('wheel', this.onWheel, false);\n  }\n\n  componentWillUnmount() {\n    this.autoPanIsRunning = false;\n    this.ViewerDOM.removeEventListener('wheel', this.onWheel);\n  }\n\n  /** ReactSVGPanZoom handlers **/\n  getValue() {\n    if (isValueValid(this.props.value)) return this.props.value\n    return this.state.defaultValue\n  }\n\n  getTool() {\n    if (this.props.tool) return this.props.tool\n    return TOOL_NONE\n  }\n\n  setValue(nextValue) {\n    let {onChangeValue, onZoom, onPan} = this.props;\n\n    if (onChangeValue) onChangeValue(nextValue);\n    if (nextValue.lastAction) {\n      if (onZoom && nextValue.lastAction === ACTION_ZOOM) onZoom(nextValue);\n      if (onPan && nextValue.lastAction === ACTION_PAN) onPan(nextValue);\n    }\n  }\n\n  /** ReactSVGPanZoom methods **/\n  pan(SVGDeltaX, SVGDeltaY) {\n    let nextValue = pan(this.getValue(), SVGDeltaX, SVGDeltaY);\n    this.setValue(nextValue);\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    let nextValue = zoom(this.getValue(), SVGPointX, SVGPointY, scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    let nextValue = fitSelection(this.getValue(), selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight);\n    this.setValue(nextValue);\n  }\n\n  fitToViewer(SVGAlignX = ALIGN_LEFT, SVGAlignY = ALIGN_TOP) {\n    let nextValue = fitToViewer(this.getValue(), SVGAlignX, SVGAlignY);\n    this.setValue(nextValue);\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    let nextValue = zoomOnViewerCenter(this.getValue(), scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    let nextValue = setPointOnViewerCenter(this.getValue(), SVGPointX, SVGPointY, zoomLevel);\n    this.setValue(nextValue);\n  }\n\n  reset() {\n    let nextValue = reset(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  openMiniature() {\n    let nextValue = openMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  closeMiniature() {\n    let nextValue = closeMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  /** ReactSVGPanZoom internals **/\n  handleViewerEvent(event) {\n    let {props, ViewerDOM} = this;\n\n    if (!([TOOL_NONE, TOOL_AUTO].indexOf(this.getTool()) >= 0)) return;\n    if (event.target === ViewerDOM) return;\n\n    let eventsHandler = {\n      click: props.onClick,\n      dblclick: props.onDoubleClick,\n\n      mousemove: props.onMouseMove,\n      mouseup: props.onMouseUp,\n      mousedown: props.onMouseDown,\n\n      touchstart: props.onTouchStart,\n      touchmove: props.onTouchMove,\n      touchend: props.onTouchEnd,\n      touchcancel: props.onTouchCancel,\n    };\n\n    let onEventHandler = eventsHandler[event.type];\n    if (!onEventHandler) return;\n\n    onEventHandler(eventFactory(event, props.value, ViewerDOM));\n  }\n\n  autoPanLoop() {\n    let coords = {x: this.state.pointerX, y: this.state.pointerY};\n    let nextValue = onInterval(null, this.ViewerDOM, this.getTool(), this.getValue(), this.props, coords);\n    if (this.getValue() !== nextValue) {\n      this.setValue(nextValue);\n    }\n\n    if (this.autoPanIsRunning) {\n      requestAnimationFrame(this.autoPanLoop);\n    }\n  }\n\n  onWheel(event) {\n    let nextValue = onWheel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n    if (this.getValue() !== nextValue) this.setValue(nextValue);\n  }\n\n  /** React renderer **/\n  render() {\n    let {props, state: {pointerX, pointerY}} = this;\n    let tool = this.getTool();\n    let value = this.getValue();\n    let {customToolbar: CustomToolbar = Toolbar, customMiniature: CustomMiniature = Miniature} = props;\n\n    let panningWithToolAuto = tool === TOOL_AUTO\n      && value.mode === MODE_PANNING\n      && value.startX !== value.endX\n      && value.startY !== value.endY;\n\n    let cursor;\n\n    if (tool === TOOL_PAN)\n      cursor = cursorPolyfill(value.mode === MODE_PANNING ? 'grabbing' : 'grab');\n\n    if (tool === TOOL_ZOOM_IN)\n      cursor = cursorPolyfill('zoom-in');\n\n    if (tool === TOOL_ZOOM_OUT)\n      cursor = cursorPolyfill('zoom-out');\n\n    if (panningWithToolAuto)\n      cursor = cursorPolyfill('grabbing');\n\n    let blockChildEvents = [TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT].indexOf(tool) >= 0;\n    blockChildEvents = blockChildEvents || panningWithToolAuto;\n\n    const touchAction = (this.props.detectPinchGesture || [TOOL_PAN, TOOL_AUTO].indexOf(this.getTool()) !== -1) ? 'none' : undefined\n\n    const style = {display: 'block', cursor, touchAction};\n\n    return (\n      <div\n        style={{position: \"relative\", width: value.viewerWidth, height: value.viewerHeight, ...props.style}}\n        className={this.props.className}>\n        <svg\n          ref={ViewerDOM => this.ViewerDOM = ViewerDOM}\n          width={value.viewerWidth}\n          height={value.viewerHeight}\n          style={style}\n\n          onMouseDown={event => {\n            let nextValue = onMouseDown(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onMouseMove={event => {\n            let {left, top} = this.ViewerDOM.getBoundingClientRect();\n            let x = event.clientX - Math.round(left);\n            let y = event.clientY - Math.round(top);\n\n            let nextValue = onMouseMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props, {x, y});\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.setState({pointerX: x, pointerY: y});\n            this.handleViewerEvent(event);\n          }}\n          onMouseUp={event => {\n            let nextValue = onMouseUp(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onClick={event => {\n            this.handleViewerEvent(event)\n          }}\n          onDoubleClick={event => {\n            let nextValue = onDoubleClick(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onMouseEnter={event => {\n            if (detectTouch()) return;\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n          onMouseLeave={event => {\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n\n          onTouchStart={event => {\n            let nextValue = onTouchStart(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchMove={event => {\n            let nextValue = onTouchMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchEnd={event => {\n            let nextValue = onTouchEnd(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchCancel={event => {\n            let nextValue = onTouchCancel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}>\n\n          <rect\n            fill={props.background}\n            x={0}\n            y={0}\n            width={value.viewerWidth}\n            height={value.viewerHeight}\n            style={{pointerEvents: \"none\"}}\n          />\n\n          <g\n            transform={toSVG(value)}\n            style={blockChildEvents ? {pointerEvents: \"none\"} : {}}>\n            <rect\n              fill={this.props.SVGBackground}\n              style={this.props.SVGStyle}\n              x={value.SVGMinX || 0}\n              y={value.SVGMinY || 0}\n              width={value.SVGWidth}\n              height={value.SVGHeight}/>\n            <g>\n              {props.children.props.children}\n            </g>\n          </g>\n\n          {!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0 && props.detectAutoPan && value.focus) ? null : (\n            <g style={{pointerEvents: \"none\"}}>\n              {!(pointerY <= 20) ? null :\n                <BorderGradient direction={POSITION_TOP} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerWidth - pointerX <= 20) ? null :\n                <BorderGradient direction={POSITION_RIGHT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerHeight - pointerY <= 20) ? null :\n                <BorderGradient direction={POSITION_BOTTOM} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.focus && pointerX <= 20) ? null :\n                <BorderGradient direction={POSITION_LEFT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n            </g>\n          )}\n\n          {!(value.mode === MODE_ZOOMING) ? null :\n            <Selection startX={value.startX} startY={value.startY} endX={value.endX} endY={value.endY}/>\n          }\n        </svg>\n\n        {props.toolbarProps.position === POSITION_NONE ? null :\n          <CustomToolbar\n            {...this.props.toolbarProps}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            tool={tool}\n            onChangeTool={tool => this.props.onChangeTool(tool)}\n          />}\n\n        {props.miniatureProps.position === POSITION_NONE ? null :\n          <CustomMiniature\n            {...this.props.miniatureProps}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            SVGBackground={this.props.SVGBackground}\n          >\n            {props.children.props.children}\n          </CustomMiniature>\n        }\n      </div>\n    );\n  }\n}\n\nReactSVGPanZoom.propTypes = {\n  /**************************************************************************/\n  /*  Viewer configuration                                                  */\n  /**************************************************************************/\n\n  /**\n   *   width of the viewer displayed on screen\n   */\n  width: PropTypes.number.isRequired,\n\n  /**\n  * height of the viewer displayed on screen\n  */\n  height: PropTypes.number.isRequired,\n\n  /**\n  * value of the viewer (current camera view)\n  */\n  value: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.shape({\n      version: PropTypes.oneOf([2]).isRequired,\n      mode: PropTypes.oneOf([MODE_IDLE, MODE_PANNING, MODE_ZOOMING]).isRequired,\n      focus: PropTypes.bool.isRequired,\n      a: PropTypes.number.isRequired,\n      b: PropTypes.number.isRequired,\n      c: PropTypes.number.isRequired,\n      d: PropTypes.number.isRequired,\n      e: PropTypes.number.isRequired,\n      f: PropTypes.number.isRequired,\n      viewerWidth: PropTypes.number.isRequired,\n      viewerHeight: PropTypes.number.isRequired,\n      SVGMinX: PropTypes.number.isRequired,\n      SVGMinY: PropTypes.number.isRequired,\n      SVGWidth: PropTypes.number.isRequired,\n      SVGHeight: PropTypes.number.isRequired,\n      startX: PropTypes.number,\n      startY: PropTypes.number,\n      endX: PropTypes.number,\n      endY: PropTypes.number,\n      miniatureOpen: PropTypes.bool.isRequired,\n    })\n  ]).isRequired,\n\n  /**\n  * handler something changed\n  */\n  onChangeValue: PropTypes.func.isRequired,\n\n  /**\n  * current active tool (TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT)\n  */\n  tool: PropTypes.oneOf([TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT]).isRequired,\n\n  /**\n  * handler tool changed\n  */\n  onChangeTool: PropTypes.func.isRequired,\n\n  /**************************************************************************/\n  /* Customize style                                                        */\n  /**************************************************************************/\n\n  /**\n  * background of the viewer\n  */\n  background: PropTypes.string,\n\n  /**\n  * background of the svg\n  */\n  SVGBackground: PropTypes.string,\n\n  /**\n  * style of the svg\n  */\n  SVGStyle: PropTypes.object,\n\n  /**\n  * CSS style of the Viewer\n  */\n  style: PropTypes.object,\n\n  /**\n  * className of the Viewer\n  */\n  className: PropTypes.string,\n\n  /**************************************************************************/\n  /* Detect events                                                          */\n  /**************************************************************************/\n\n  /**\n  * perform zoom operation on mouse scroll\n  */\n  detectWheel: PropTypes.bool,\n\n  /**\n  * perform PAN if the mouse is on viewer border\n  */\n  detectAutoPan: PropTypes.bool,\n\n  /**\n  * perform zoom operation on pinch gesture\n  */\n  detectPinchGesture: PropTypes.bool,\n\n  /**\n  * handler zoom level changed\n  */\n  onZoom: PropTypes.func,\n\n  /**\n  * handler pan action performed\n  */\n  onPan: PropTypes.func,\n\n  /**\n  * handler click\n  */\n  onClick: PropTypes.func,\n\n  /**\n  * handler double click\n  */\n  onDoubleClick: PropTypes.func,\n\n  /**\n  * handler mouseup\n  */\n  onMouseUp: PropTypes.func,\n\n  /**\n  * handler mousemove\n  */\n  onMouseMove: PropTypes.func,\n\n  /**\n  * handler mousedown\n  */\n  onMouseDown: PropTypes.func,\n\n  /**************************************************************************/\n  /* Some advanced configurations                                           */\n  /**************************************************************************/\n\n  /**\n  * if disabled the user can move the image outside the viewer\n  */\n  preventPanOutside: PropTypes.bool,\n\n  /**\n  * how much scale in or out\n  */\n  scaleFactor: PropTypes.number,\n\n  /**\n  * how much scale in or out on mouse wheel (requires detectWheel enabled)\n  */\n  scaleFactorOnWheel: PropTypes.number,\n\n  /**\n  * maximum amount of scale a user can zoom in to\n  */\n  scaleFactorMax: PropTypes.number,\n\n  /**\n  * minimum amount of a scale a user can zoom out of\n  */\n  scaleFactorMin: PropTypes.number,\n\n  /**\n  * modifier keys //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n  */\n  modifierKeys: PropTypes.array,\n\n  /**\n  * Turn off zoom on double click\n  */\n  disableDoubleClickZoomWithToolAuto: PropTypes.bool,\n\n  /**************************************************************************/\n  /* Miniature configurations                                                 */\n  /**************************************************************************/\n\n  /**\n  * override miniature component\n  */\n  customMiniature: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  /**\n  * miniature props\n  */\n  miniatureProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_RIGHT, POSITION_LEFT]),\n    background: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n\n  /**************************************************************************/\n  /* Toolbar configurations                                                 */\n  /**************************************************************************/\n\n  /**\n  * override toolbar component\n  */\n  customToolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  /**\n  * toolbar props\n  */\n  toolbarProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n    SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n    SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n    activeToolColor: PropTypes.string,\n  }),\n\n  /**************************************************************************/\n  /* Children Check                                                         */\n  /**************************************************************************/\n  /**\n  * accept only one node SVG\n  */\n  children: function (props, propName, componentName) {\n    // Only accept a single child, of the appropriate type\n    //credits: http://www.mattzabriskie.com/blog/react-validating-children\n    let prop = props[propName];\n    let types = ['svg'];\n    if (React.Children.count(prop) !== 1 ||\n      types.indexOf(prop.type) === -1) {\n      return new Error(\n        '`' + componentName + '` ' +\n        'should have a single child of the following types: ' +\n        ' `' + types.join('`, `') + '`.'\n      );\n    }\n    if (\n      (!prop.props.hasOwnProperty('width') || !prop.props.hasOwnProperty('height')) &&\n      (!prop.props.hasOwnProperty('viewBox'))\n    ) {\n      return new Error('SVG should have props `width` and `height` or `viewBox`');\n    }\n\n  }\n};\n\nReactSVGPanZoom.defaultProps = {\n  style: {},\n  background: \"#616264\",\n  SVGBackground: \"#fff\",\n  SVGStyle: {},\n  detectWheel: true,\n  detectAutoPan: true,\n  detectPinchGesture: true,\n  modifierKeys: [\"Alt\", \"Shift\", \"Control\"],\n  preventPanOutside: true,\n  scaleFactor: 1.1,\n  scaleFactorOnWheel: 1.06,\n  disableZoomWithToolAuto: false,\n  onZoom: null,\n  onPan: null,\n  toolbarProps: {},\n  miniatureProps: {},\n};\n","/**\n * Calculate a point transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param  point {Point} Point\n * @returns {Point} Point\n */\nexport function applyToPoint (matrix, point) {\n  return Array.isArray(point)\n    ? [\n        matrix.a * point[0] + matrix.c * point[1] + matrix.e,\n        matrix.b * point[0] + matrix.d * point[1] + matrix.f\n      ]\n    : {\n        x: matrix.a * point.x + matrix.c * point.y + matrix.e,\n        y: matrix.b * point.x + matrix.d * point.y + matrix.f\n      }\n}\n\n/**\n * Calculate an array of points transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param points {Point[]} Array of point\n * @returns {Point[]} Array of point\n */\nexport function applyToPoints (matrix, points) {\n  return points.map(point => applyToPoint(matrix, point))\n}\n","/**\n * Extract an affine matrix from an object that contains a,b,c,d,e,f keys\n * Any value could be a float or a string that contains a float\n * @param object {Object} Object that contains a,b,c,d,e,f keys\n * @return {Matrix} Affine Matrix\n */\nexport function fromObject (object) {\n  return {\n    a: parseFloat(object.a),\n    b: parseFloat(object.b),\n    c: parseFloat(object.c),\n    d: parseFloat(object.d),\n    e: parseFloat(object.e),\n    f: parseFloat(object.f)\n  }\n}\n","/**\n * @ignore\n * @type {RegExp}\n */\nconst matrixRegex = /^matrix\\(\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*\\)$/i\n\n/**\n * Parse a string formatted as matrix(a,b,c,d,e,f)\n * @param string {string} String with an affine matrix\n * @returns {Matrix} Affine Matrix\n *\n * @example\n * > fromString('matrix(1,2,3,4,5,6)')\n * {a: 1, b: 2, c: 3, d: 4, c: 5, e: 6}\n */\nexport function fromString (string) {\n  const parsed = string.match(matrixRegex)\n  if (parsed === null || parsed.length < 7) throw new Error(`'${string}' is not a matrix`)\n  return {\n    a: parseFloat(parsed[1]),\n    b: parseFloat(parsed[2]),\n    c: parseFloat(parsed[3]),\n    d: parseFloat(parsed[4]),\n    e: parseFloat(parsed[5]),\n    f: parseFloat(parsed[6])\n  }\n}\n","/**\n * Identity matrix\n * @returns {Matrix} Affine Matrix\n */\nexport function identity () {\n  return {\n    a: 1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: 1,\n    f: 0\n  }\n}\n","/**\n * Calculate a matrix that is the inverse of the provided matrix\n * @param matrix {Matrix} Affine Matrix\n * @returns {Matrix} Inverted Affine Matrix\n */\nexport function inverse (matrix) {\n  // http://www.wolframalpha.com/input/?i=Inverse+%5B%7B%7Ba,c,e%7D,%7Bb,d,f%7D,%7B0,0,1%7D%7D%5D\n\n  const { a, b, c, d, e, f } = matrix\n\n  const denom = a * d - b * c\n\n  return {\n    a: d / denom,\n    b: b / -denom,\n    c: c / -denom,\n    d: a / denom,\n    e: (d * e - c * f) / -denom,\n    f: (b * e - a * f) / denom\n  }\n}\n","export function isUndefined (val) {\n  return typeof val === 'undefined'\n}\n\nexport function isNumeric (n) {\n  return typeof n === 'number' &&\n    !Number.isNaN(n) &&\n    Number.isFinite(n)\n}\n\nexport function isObject (obj) {\n  return typeof obj === 'object' &&\n    obj !== null &&\n    !Array.isArray(obj)\n}\n\nexport function matchesShape (obj, keys) {\n  return keys.every(key => key in obj)\n}\n","import { isNumeric, isObject } from './utils'\n\n/**\n * Check if the object contain an affine matrix\n * @param object {Object} Generic Plain Object\n * @return {boolean} True if is an object and contains an affine matrix\n */\n\nexport function isAffineMatrix (object) {\n  return isObject(object) &&\n    'a' in object &&\n    isNumeric(object.a) &&\n    'b' in object &&\n    isNumeric(object.b) &&\n    'c' in object &&\n    isNumeric(object.c) &&\n    'd' in object &&\n    isNumeric(object.d) &&\n    'e' in object &&\n    isNumeric(object.e) &&\n    'f' in object &&\n    isNumeric(object.f)\n}\n","/**\n * Calculate a translate matrix\n * @param tx {number} Translation on axis x\n * @param [ty = 0] {number} Translation on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function translate (tx, ty = 0) {\n  return {\n    a: 1,\n    c: 0,\n    e: tx,\n    b: 0,\n    d: 1,\n    f: ty\n  }\n}\n","/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function transform (...matrices) {\n  matrices = Array.isArray(matrices[0]) ? matrices[0] : matrices\n\n  const multiply = (m1, m2) => {\n    return {\n      a: m1.a * m2.a + m1.c * m2.b,\n      c: m1.a * m2.c + m1.c * m2.d,\n      e: m1.a * m2.e + m1.c * m2.f + m1.e,\n      b: m1.b * m2.a + m1.d * m2.b,\n      d: m1.b * m2.c + m1.d * m2.d,\n      f: m1.b * m2.e + m1.d * m2.f + m1.f\n    }\n  }\n\n  switch (matrices.length) {\n    case 0:\n      throw new Error('no matrices provided')\n\n    case 1:\n      return matrices[0]\n\n    case 2:\n      return multiply(matrices[0], matrices[1])\n\n    default: {\n      const [m1, m2, ...rest] = matrices\n      const m = multiply(m1, m2)\n      return transform(m, ...rest)\n    }\n  }\n}\n\n/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function compose (...matrices) {\n  return transform(...matrices)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\nconst { cos, sin, PI } = Math\n/**\n * Calculate a rotation matrix\n * @param angle {number} Angle in radians\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotate (angle, cx, cy) {\n  const cosAngle = cos(angle)\n  const sinAngle = sin(angle)\n  const rotationMatrix = {\n    a: cosAngle,\n    c: -sinAngle,\n    e: 0,\n    b: sinAngle,\n    d: cosAngle,\n    f: 0\n  }\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return rotationMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    rotationMatrix,\n    translate(-cx, -cy)\n  ])\n}\n\n/**\n * Calculate a rotation matrix with a DEG angle\n * @param angle {number} Angle in degree\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotateDEG (angle, cx = undefined, cy = undefined) {\n  return rotate(angle * PI / 180, cx, cy)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\n/**\n * Calculate a scaling matrix\n * @param sx {number} Scaling on axis x\n * @param [sy = sx] {number} Scaling on axis y (default sx)\n * @param [cx] {number} If (cx,cy) are supplied the scaling is about this point\n * @param [cy] {number} If (cx,cy) are supplied the scaling is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function scale (sx, sy = undefined, cx = undefined, cy = undefined) {\n  if (isUndefined(sy)) sy = sx\n\n  const scaleMatrix = {\n    a: sx,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: sy,\n    f: 0\n  }\n\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return scaleMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    scaleMatrix,\n    translate(-cx, -cy)\n  ])\n}\n","/**\n * Calculate a shear matrix\n * @param shx {number} Shear on axis x\n * @param shy {number} Shear on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function shear (shx, shy) {\n  return {\n    a: 1,\n    c: shx,\n    e: 0,\n    b: shy,\n    d: 1,\n    f: 0\n  }\n}\n","// https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skew\nconst { tan } = Math\n\n/**\n * Calculate a skew matrix\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skew (ax, ay) {\n  return {\n    a: 1,\n    c: tan(ax),\n    e: 0,\n    b: tan(ay),\n    d: 1,\n    f: 0\n  }\n}\n\n/**\n * Calculate a skew matrix using DEG angles\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skewDEG (ax, ay) {\n  return skew(ax * Math.PI / 180, ay * Math.PI / 180)\n}\n","/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toCSS (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toSVG (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toString (matrix) {\n  return `matrix(${matrix.a},${matrix.b},${matrix.c},${matrix.d},${matrix.e},${matrix.f})`\n}\n","/**\n * Rounds all elements of the given matrix using the given precision\n * @param matrix {Matrix} An affine matrix to round\n * @param [precision] {number} A precision to use for Math.round. Defaults to 10000000000 (meaning which rounds to the 10th digit after the comma).\n * @returns {Matrix} The rounded Affine Matrix\n */\nexport function smoothMatrix (matrix, precision = 10000000000) {\n  return {\n    a: Math.round(matrix.a * precision) / precision,\n    b: Math.round(matrix.b * precision) / precision,\n    c: Math.round(matrix.c * precision) / precision,\n    d: Math.round(matrix.d * precision) / precision,\n    e: Math.round(matrix.e * precision) / precision,\n    f: Math.round(matrix.f * precision) / precision\n  }\n}\n","import { inverse } from './inverse'\nimport { transform } from './transform'\nimport { smoothMatrix } from './smoothMatrix'\n\n/**\n * Returns a matrix that transforms a triangle t1 into another triangle t2, or throws an exception if it is impossible.\n * @param t1 {Point[]} Array of points containing the three points for the first triangle\n * @param t2 {Point[]} Array of points containing the three points for the second triangle\n * @returns {Matrix} Matrix which transforms t1 to t2\n * @throws Exception if the matrix becomes not invertible\n */\nexport function fromTriangles (t1, t2) {\n  // point p = first point of the triangle\n  const px1 = t1[0].x != null ? t1[0].x : t1[0][0]\n  const py1 = t1[0].y != null ? t1[0].y : t1[0][1]\n  const px2 = t2[0].x != null ? t2[0].x : t2[0][0]\n  const py2 = t2[0].y != null ? t2[0].y : t2[0][1]\n\n  // point q = second point of the triangle\n  const qx1 = t1[1].x != null ? t1[1].x : t1[1][0]\n  const qy1 = t1[1].y != null ? t1[1].y : t1[1][1]\n  const qx2 = t2[1].x != null ? t2[1].x : t2[1][0]\n  const qy2 = t2[1].y != null ? t2[1].y : t2[1][1]\n\n  // point r = third point of the triangle\n  const rx1 = t1[2].x != null ? t1[2].x : t1[2][0]\n  const ry1 = t1[2].y != null ? t1[2].y : t1[2][1]\n  const rx2 = t2[2].x != null ? t2[2].x : t2[2][0]\n  const ry2 = t2[2].y != null ? t2[2].y : t2[2][1]\n\n  const r1 = {\n    a: px1 - rx1,\n    b: py1 - ry1,\n    c: qx1 - rx1,\n    d: qy1 - ry1,\n    e: rx1,\n    f: ry1\n  }\n  const r2 = {\n    a: px2 - rx2,\n    b: py2 - ry2,\n    c: qx2 - rx2,\n    d: qy2 - ry2,\n    e: rx2,\n    f: ry2\n  }\n\n  const inverseR1 = inverse(r1)\n  const affineMatrix = transform([r2, inverseR1])\n\n  // round the matrix elements to smooth the finite inversion\n  return smoothMatrix(affineMatrix)\n}\n","import { fromObject } from './fromObject'\nimport { translate } from './translate'\nimport { scale } from './scale'\nimport { rotateDEG } from './rotate'\nimport { skewDEG } from './skew'\nimport { shear } from './shear'\n\n/**\n * Converts array of matrix descriptor to array of matrix\n * @param definitionOrArrayOfDefinition {Object[]} Array of object describing the matrix\n * @returns {Matrix[]} Array of matrix\n *\n * @example\n * > fromDefinition([\n *  { type: 'matrix', a:1, b:2, c:3, d:4, e:5, f:6 },\n *  { type: 'translate', tx: 10, ty: 20 },\n *  { type: 'scale', sx: 2, sy: 4 },\n *  { type: 'rotate', angle: 90, cx: 50, cy: 25 },\n *  { type: 'skewX', angle: 45 },\n *  { type: 'skewY',  angle: 45 },\n *  { type: 'shear', shx: 10, shy: 20}\n * ])\n *\n * [\n *  { a: 1, b: 2, c: 3, d: 4, e: 5, f: 6 },\n *  { a: 1, c: 0, e: 10, b: 0, d: 1, f: 20 },\n *  { a: 2, c: 0, e: 0, b: 0, d: 4, f: 0 },\n *  { a: 6.123, c: -1, e: 0, b: 1, d: 6.123, f: 0 },\n *  { a: 1, c: 0.99.., e: 0, b: 0, d: 1, f: 0 },\n *  { a: 1, c: 0, e: 0, b: 0.99, d: 1, f: 0 },\n *  { a: 1, c: 10, e: 0, b: 20, d: 1, f: 0 }\n * ]\n **/\nexport function fromDefinition (definitionOrArrayOfDefinition) {\n  return Array.isArray(definitionOrArrayOfDefinition)\n    ? definitionOrArrayOfDefinition.map(mapper)\n    : mapper(definitionOrArrayOfDefinition)\n\n  function mapper (descriptor) {\n    switch (descriptor.type) {\n      case 'matrix':\n        if ('a' in descriptor &&\n          'b' in descriptor &&\n          'c' in descriptor &&\n          'd' in descriptor &&\n          'e' in descriptor &&\n          'f' in descriptor\n        ) {\n          return fromObject(descriptor)\n        } else {\n          throw new Error('MISSING_MANDATORY_PARAM')\n        }\n\n      case 'translate':\n        if (!('tx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('ty' in descriptor) return translate(descriptor.tx, descriptor.ty)\n\n        return translate(descriptor.tx)\n\n      case 'scale':\n        if (!('sx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('sy' in descriptor) return scale(descriptor.sx, descriptor.sy)\n\n        return scale(descriptor.sx)\n\n      case 'rotate':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('cx' in descriptor && 'cy' in descriptor) {\n          return rotateDEG(descriptor.angle, descriptor.cx, descriptor.cy)\n        }\n        return rotateDEG(descriptor.angle)\n\n      case 'skewX':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(descriptor.angle, 0)\n\n      case 'skewY':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(0, descriptor.angle)\n\n      case 'shear':\n        if (!('shx' in descriptor && 'shy' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return shear(descriptor.shx, descriptor.shy)\n\n      default:\n        throw new Error('UNSUPPORTED_DESCRIPTOR')\n    }\n  }\n}\n","// Generated by Peggy 3.0.2.\n//\n// https://peggyjs.org/\n\nfunction peg$subclass(child, parent) {\n  function C() { this.constructor = child; }\n  C.prototype = parent.prototype;\n  child.prototype = new C();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  var self = Error.call(this, message);\n  // istanbul ignore next Check is a necessary evil to support older environments\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(self, peg$SyntaxError.prototype);\n  }\n  self.expected = expected;\n  self.found = found;\n  self.location = location;\n  self.name = \"SyntaxError\";\n  return self;\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\nfunction peg$padEnd(str, targetLength, padString) {\n  padString = padString || \" \";\n  if (str.length > targetLength) { return str; }\n  targetLength -= str.length;\n  padString += padString.repeat(targetLength);\n  return str + padString.slice(0, targetLength);\n}\n\npeg$SyntaxError.prototype.format = function(sources) {\n  var str = \"Error: \" + this.message;\n  if (this.location) {\n    var src = null;\n    var k;\n    for (k = 0; k < sources.length; k++) {\n      if (sources[k].source === this.location.source) {\n        src = sources[k].text.split(/\\r\\n|\\n|\\r/g);\n        break;\n      }\n    }\n    var s = this.location.start;\n    var offset_s = (this.location.source && (typeof this.location.source.offset === \"function\"))\n      ? this.location.source.offset(s)\n      : s;\n    var loc = this.location.source + \":\" + offset_s.line + \":\" + offset_s.column;\n    if (src) {\n      var e = this.location.end;\n      var filler = peg$padEnd(\"\", offset_s.line.toString().length, ' ');\n      var line = src[s.line - 1];\n      var last = s.line === e.line ? e.column : line.length + 1;\n      var hatLen = (last - s.column) || 1;\n      str += \"\\n --> \" + loc + \"\\n\"\n          + filler + \" |\\n\"\n          + offset_s.line + \" | \" + line + \"\\n\"\n          + filler + \" | \" + peg$padEnd(\"\", s.column - 1, ' ')\n          + peg$padEnd(\"\", hatLen, \"^\");\n    } else {\n      str += \"\\n at \" + loc;\n    }\n  }\n  return str;\n};\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n    literal: function(expectation) {\n      return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n    },\n\n    class: function(expectation) {\n      var escapedParts = expectation.parts.map(function(part) {\n        return Array.isArray(part)\n          ? classEscape(part[0]) + \"-\" + classEscape(part[1])\n          : classEscape(part);\n      });\n\n      return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts.join(\"\") + \"]\";\n    },\n\n    any: function() {\n      return \"any character\";\n    },\n\n    end: function() {\n      return \"end of input\";\n    },\n\n    other: function(expectation) {\n      return expectation.description;\n    }\n  };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\"/g,  \"\\\\\\\"\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\\]/g, \"\\\\]\")\n      .replace(/\\^/g, \"\\\\^\")\n      .replace(/-/g,  \"\\\\-\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = expected.map(describeExpectation);\n    var i, j;\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== undefined ? options : {};\n\n  var peg$FAILED = {};\n  var peg$source = options.grammarSource;\n\n  var peg$startRuleFunctions = { transformList: peg$parsetransformList };\n  var peg$startRuleFunction = peg$parsetransformList;\n\n  var peg$c0 = \"matrix\";\n  var peg$c1 = \"(\";\n  var peg$c2 = \")\";\n  var peg$c3 = \"translate\";\n  var peg$c4 = \"scale\";\n  var peg$c5 = \"rotate\";\n  var peg$c6 = \"skewX\";\n  var peg$c7 = \"skewY\";\n  var peg$c8 = \",\";\n  var peg$c9 = \".\";\n\n  var peg$r0 = /^[eE]/;\n  var peg$r1 = /^[+\\-]/;\n  var peg$r2 = /^[0-9]/;\n  var peg$r3 = /^[ \\t\\r\\n]/;\n\n  var peg$e0 = peg$literalExpectation(\"matrix\", false);\n  var peg$e1 = peg$literalExpectation(\"(\", false);\n  var peg$e2 = peg$literalExpectation(\")\", false);\n  var peg$e3 = peg$literalExpectation(\"translate\", false);\n  var peg$e4 = peg$literalExpectation(\"scale\", false);\n  var peg$e5 = peg$literalExpectation(\"rotate\", false);\n  var peg$e6 = peg$literalExpectation(\"skewX\", false);\n  var peg$e7 = peg$literalExpectation(\"skewY\", false);\n  var peg$e8 = peg$literalExpectation(\",\", false);\n  var peg$e9 = peg$otherExpectation(\"fractionalConstant\");\n  var peg$e10 = peg$literalExpectation(\".\", false);\n  var peg$e11 = peg$classExpectation([\"e\", \"E\"], false, false);\n  var peg$e12 = peg$classExpectation([\"+\", \"-\"], false, false);\n  var peg$e13 = peg$classExpectation([[\"0\", \"9\"]], false, false);\n  var peg$e14 = peg$classExpectation([\" \", \"\\t\", \"\\r\", \"\\n\"], false, false);\n\n  var peg$f0 = function(ts) { return ts; };\n  var peg$f1 = function(t, ts) { return t.concat(ts) };\n  var peg$f2 = function(a, b, c, d, e, f) {\n      return [{type: 'matrix', a: a, b: b, c: c, d: d, e: e, f: f}];\n    };\n  var peg$f3 = function(tx, ty) {\n      var t = {type: 'translate', tx: tx};\n      if (ty) t.ty = ty;\n      return [t];\n    };\n  var peg$f4 = function(sx, sy) {\n      var s = {type:'scale', sx: sx};\n      if (sy) s.sy = sy;\n      return [s];\n    };\n  var peg$f5 = function(angle, c) {\n      var r = {type:'rotate', angle: angle};\n      if (c) {\n        r.cx = c[0];\n        r.cy = c[1];\n      }\n      return [r];\n    };\n  var peg$f6 = function(angle) {\n      return [{type: 'skewX', angle: angle}];\n    };\n  var peg$f7 = function(angle) {\n      return [{type: 'skewY', angle: angle}];\n    };\n  var peg$f8 = function(f) { return parseFloat(f.join(\"\")); };\n  var peg$f9 = function(i) { return parseInt(i.join(\"\")); };\n  var peg$f10 = function(n) { return n; };\n  var peg$f11 = function(n1, n2) { return [n1, n2]; };\n  var peg$f12 = function(ds) { return ds.join(\"\"); };\n  var peg$f13 = function(f, e) { return [f, e || null].join(\"\")};\n  var peg$f14 = function(d, e) { return [d, e].join(\"\")};\n  var peg$f15 = function(d1, d2) { return [d1 ? d1.join(\"\") : null, \".\", d2.join(\"\")].join(\"\"); };\n  var peg$f16 = function(d) { return d.join(\"\"); };\n  var peg$f17 = function(s, d) { return ['e', s, d.join(\"\")].join(\"\") };\n  var peg$currPos = 0;\n  var peg$savedPos = 0;\n  var peg$posDetailsCache = [{ line: 1, column: 1 }];\n  var peg$maxFailPos = 0;\n  var peg$maxFailExpected = [];\n  var peg$silentFails = 0;\n\n  var peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function offset() {\n    return peg$savedPos;\n  }\n\n  function range() {\n    return {\n      source: peg$source,\n      start: peg$savedPos,\n      end: peg$currPos\n    };\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos];\n    var p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line: details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos, offset) {\n    var startPosDetails = peg$computePosDetails(startPos);\n    var endPosDetails = peg$computePosDetails(endPos);\n\n    var res = {\n      source: peg$source,\n      start: {\n        offset: startPos,\n        line: startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line: endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n    if (offset && peg$source && (typeof peg$source.offset === \"function\")) {\n      res.start = peg$source.offset(res.start);\n      res.end = peg$source.offset(res.end);\n    }\n    return res;\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parsetransformList() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      s2 = peg$parsewsp();\n    }\n    s2 = peg$parsetransforms();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = [];\n    s4 = peg$parsewsp();\n    while (s4 !== peg$FAILED) {\n      s3.push(s4);\n      s4 = peg$parsewsp();\n    }\n    peg$savedPos = s0;\n    s0 = peg$f0(s2);\n\n    return s0;\n  }\n\n  function peg$parsetransforms() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsetransform();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsecommaWsp();\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsecommaWsp();\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsetransforms();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f1(s1, s3);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetransform();\n    }\n\n    return s0;\n  }\n\n  function peg$parsetransform() {\n    var s0;\n\n    s0 = peg$parsematrix();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetranslate();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsescale();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parserotate();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseskewX();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseskewY();\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsematrix() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16, s17;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 6) === peg$c0) {\n      s1 = peg$c0;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e0); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWsp();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsenumber();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parsecommaWsp();\n              if (s8 !== peg$FAILED) {\n                s9 = peg$parsenumber();\n                if (s9 !== peg$FAILED) {\n                  s10 = peg$parsecommaWsp();\n                  if (s10 !== peg$FAILED) {\n                    s11 = peg$parsenumber();\n                    if (s11 !== peg$FAILED) {\n                      s12 = peg$parsecommaWsp();\n                      if (s12 !== peg$FAILED) {\n                        s13 = peg$parsenumber();\n                        if (s13 !== peg$FAILED) {\n                          s14 = peg$parsecommaWsp();\n                          if (s14 !== peg$FAILED) {\n                            s15 = peg$parsenumber();\n                            if (s15 !== peg$FAILED) {\n                              s16 = [];\n                              s17 = peg$parsewsp();\n                              while (s17 !== peg$FAILED) {\n                                s16.push(s17);\n                                s17 = peg$parsewsp();\n                              }\n                              if (input.charCodeAt(peg$currPos) === 41) {\n                                s17 = peg$c2;\n                                peg$currPos++;\n                              } else {\n                                s17 = peg$FAILED;\n                                if (peg$silentFails === 0) { peg$fail(peg$e2); }\n                              }\n                              if (s17 !== peg$FAILED) {\n                                peg$savedPos = s0;\n                                s0 = peg$f2(s5, s7, s9, s11, s13, s15);\n                              } else {\n                                peg$currPos = s0;\n                                s0 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetranslate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 9) === peg$c3) {\n      s1 = peg$c3;\n      peg$currPos += 9;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e3); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f3(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsescale() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c4) {\n      s1 = peg$c4;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e4); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f4(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parserotate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 6) === peg$c5) {\n      s1 = peg$c5;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e5); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspTwoNumbers();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f5(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewX() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c6) {\n      s1 = peg$c6;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e6); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f6(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewY() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c7) {\n      s1 = peg$c7;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e7); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f7(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenumber() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsesign();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = peg$parsefloatingPointConstant();\n    if (s3 !== peg$FAILED) {\n      s2 = [s2, s3];\n      s1 = s2;\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f8(s1);\n    }\n    s0 = s1;\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parseintegerConstant();\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$f9(s1);\n      }\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspNumber() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f10(s2);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspTwoNumbers() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecommaWsp();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsenumber();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f11(s2, s4);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWsp() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsewsp();\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = [];\n      s4 = peg$parsewsp();\n      while (s4 !== peg$FAILED) {\n        s3.push(s4);\n        s4 = peg$parsewsp();\n      }\n      s1 = [s1, s2, s3];\n      s0 = s1;\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsecomma();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsewsp();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsewsp();\n        }\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsecomma() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 44) {\n      s0 = peg$c8;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e8); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseintegerConstant() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f12(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsefloatingPointConstant() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsefractionalConstant();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseexponent();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      peg$savedPos = s0;\n      s0 = peg$f13(s1, s2);\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseexponent();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f14(s1, s2);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsefractionalConstant() {\n    var s0, s1, s2, s3;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (input.charCodeAt(peg$currPos) === 46) {\n      s2 = peg$c9;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e10); }\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f15(s1, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s2 = peg$c9;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$e10); }\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f16(s1);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e9); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseexponent() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$r0.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e11); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f17(s2, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesign() {\n    var s0;\n\n    if (peg$r1.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e12); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigitSequence() {\n    var s0, s1;\n\n    s0 = [];\n    s1 = peg$parsedigit();\n    if (s1 !== peg$FAILED) {\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        s1 = peg$parsedigit();\n      }\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigit() {\n    var s0;\n\n    if (peg$r2.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e13); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsewsp() {\n    var s0;\n\n    if (peg$r3.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e14); }\n    }\n\n    return s0;\n  }\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nexport {\n  peg$SyntaxError as SyntaxError,\n\n  peg$parse as parse\n};\n","import { parse } from './fromTransformAttribute.autogenerated'\n\n/**\n * Parser for SVG Trasform Attribute http://www.w3.org/TR/SVG/coords.html#TransformAttribute <br/>\n * Warning: This should be considered BETA until it is released a stable version of pegjs.\n * @param transformString {string} Transform string as defined by w3 Consortium\n * @returns {MatrixDescriptor[]} Array of MatrixDescriptor\n *\n * @example\n * > fromTransformAttribute('translate(-10,-10) scale(2,2) translate(10,10)')\n * [\n *  { type: 'translate', tx: -10, ty: -10},\n *  { type: 'scale', sx: 2, sy: 2 },\n *  { type: 'translate', tx: 10, ty: 10}\n * ]\n *\n * > compose(fromDefinition(fromTransformAttribute('translate(-10, -10) scale(10, 10)')))\n * { a: 10, c: 0, e: -10, b: 0, d: 10, f: -10 }\n */\nexport function fromTransformAttribute (transformString) {\n  return parse(transformString)\n}\n","import { scale } from './scale'\nimport { compose } from './transform'\n/**\n * Decompose a matrix into translation, scaling and rotation components, optionally\n * take horizontal and vertical flip in to consideration.\n * Note this function decomposes a matrix in rotation -> scaling -> translation order. I.e. for\n * certain translation T {tx, ty}, rotation R and scaling S { sx, sy }, it's only true for:\n *  decomposeTSR(compose(T, S, R)) === { translate: T, rotation: R, scale: S }\n * composing in a different order may yield a different decomposition result.\n * @param matrix {Matrix} Affine Matrix\n * @param  flipX {boolean} Whether the matrix contains vertical flip, i.e. mirrors on x-axis\n * @param  flipY {boolean} Whether the matrix contains horizontal flip, i.e. mirrors on y-axis\n * @returns {Transform} A transform object consisted by its translation, scaling\n * and rotation components.\n */\nexport function decomposeTSR (matrix, flipX = false, flipY = false) {\n  // Remove flip from the matrix first - flip could be incorrectly interpreted as\n  // rotations (e.g. flipX + flipY = rotate by 180 degrees).\n  // Note flipX is a vertical flip, and flipY is a horizontal flip.\n  if (flipX) {\n    if (flipY) {\n      matrix = compose(matrix, scale(-1, -1))\n    } else {\n      matrix = compose(matrix, scale(1, -1))\n    }\n  } else if (flipY) {\n    matrix = compose(matrix, scale(-1, 1))\n  }\n\n  const a = matrix.a; const b = matrix.b\n  const c = matrix.c; const d = matrix.d\n  let scaleX, scaleY, rotation\n\n  if (a !== 0 || c !== 0) {\n    const hypotAc = Math.hypot(a, c)\n    scaleX = hypotAc\n    scaleY = (a * d - b * c) / hypotAc\n    const acos = Math.acos(a / hypotAc)\n    rotation = c > 0 ? -acos : acos\n  } else if (b !== 0 || d !== 0) {\n    const hypotBd = Math.hypot(b, d)\n    scaleX = (a * d - b * c) / hypotBd\n    scaleY = hypotBd\n    const acos = Math.acos(b / hypotBd)\n    rotation = Math.PI / 2 + (d > 0 ? -acos : acos)\n  } else {\n    scaleX = 0\n    scaleY = 0\n    rotation = 0\n  }\n\n  // put the flip factors back\n  if (flipY) {\n    scaleX = -scaleX\n  }\n\n  if (flipX) {\n    scaleY = -scaleY\n  }\n\n  return {\n    translate: { tx: matrix.e, ty: matrix.f },\n    scale: { sx: scaleX, sy: scaleY },\n    rotation: { angle: rotation }\n  }\n}\n","/**\n * Tranformation matrix that mirrors on x-axis\n * @returns {Matrix} Affine Matrix\n */\nexport function flipX () {\n  return {\n    a: 1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: -1,\n    f: 0\n  }\n}\n\n/**\n * Tranformation matrix that mirrors on y-axis\n * @returns {Matrix} Affine Matrix\n */\nexport function flipY () {\n  return {\n    a: -1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: 1,\n    f: 0\n  }\n}\n\n/**\n * Tranformation matrix that mirrors on origin\n * @returns {Matrix} Affine Matrix\n */\nexport function flipOrigin () {\n  return {\n    a: -1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: -1,\n    f: 0\n  }\n}\n","import { translate } from './translate'\nimport { applyToPoint } from './applyToPoint'\nimport { rotate } from './rotate'\nimport { scale } from './scale'\nimport { compose } from './transform'\n\n// https://manivannan-ai.medium.com/find-the-angle-between-three-points-from-2d-using-python-348c513e2cd\n\n/**\n * Calculate a transformation matrix from a point that starts from A to A'\n * This approach can be associated to a pointer that moves on a device\n * @param {Point} startingPoint - Starting point (A)\n * @param {Point} endingPoint - Ending point (A')\n */\nexport function fromOneMovingPoint (startingPoint, endingPoint) {\n  const tx = endingPoint.x - startingPoint.x\n  const ty = endingPoint.y - startingPoint.y\n\n  return translate(tx, ty)\n}\n\n/**\n * Calculate a transformation matrix about two points that move from positions A and B to A' and B'\n * This approach can be associated to a two finger gesture on a touch device\n * @param {Point} startingPoint1 - Starting Point (A)\n * @param {Point} startingPoint2 - Starting Point (B)\n * @param {Point} endingPoint1 - Ending point (A')\n * @param {Point} endingPoint2 - Ending Point (B')\n */\nexport function fromTwoMovingPoints (startingPoint1, startingPoint2, endingPoint1, endingPoint2) {\n  // finds translation\n  const translationMatrix = fromOneMovingPoint(startingPoint1, endingPoint1)\n\n  const pointA = applyToPoint(translationMatrix, startingPoint2) // I have to translate this point\n  const center = endingPoint1\n  const pointB = endingPoint2\n\n  // finds rotation matrix\n  const angle = Math.atan2(pointB.y - center.y, pointB.x - center.x) - Math.atan2(pointA.y - center.y, pointA.x - center.x)\n  const rotationMatrix = rotate(angle, center.x, center.y)\n\n  // finds scale matrix\n  const d1 = Math.sqrt(Math.pow(pointA.x - center.x, 2) + Math.pow(pointA.y - center.y, 2))\n  const d2 = Math.sqrt(Math.pow(pointB.x - center.x, 2) + Math.pow(pointB.y - center.y, 2))\n  const scalingLevel = d2 / d1\n  const scalingMatrix = scale(scalingLevel, scalingLevel, center.x, center.y)\n\n  return compose([\n    translationMatrix,\n    scalingMatrix,\n    rotationMatrix\n  ])\n}\n","export * from './applyToPoint'\nexport * from './fromObject'\nexport * from './fromString'\nexport * from './identity'\nexport * from './inverse'\nexport * from './isAffineMatrix'\nexport * from './rotate'\nexport * from './scale'\nexport * from './shear'\nexport * from './skew'\nexport * from './toString'\nexport * from './transform'\nexport * from './translate'\nexport * from './fromTriangles'\nexport * from './smoothMatrix'\nexport * from './fromDefinition'\nexport * from './fromTransformAttribute'\nexport * from './decompose'\nexport * from './flip'\nexport * from './fromMovingPoints'\n","module.exports = __WEBPACK_EXTERNAL_MODULE__993__;","module.exports = __WEBPACK_EXTERNAL_MODULE__442__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(497);\n",""],"names":["MODE_IDLE","exports","MODE_PANNING","MODE_ZOOMING","TOOL_AUTO","TOOL_NONE","TOOL_PAN","TOOL_ZOOM_IN","TOOL_ZOOM_OUT","POSITION_NONE","POSITION_TOP","POSITION_RIGHT","POSITION_BOTTOM","POSITION_LEFT","ACTION_ZOOM","ACTION_PAN","ALIGN_CENTER","ALIGN_LEFT","ALIGN_RIGHT","ALIGN_TOP","ALIGN_BOTTOM","ALIGN_COVER","INITIAL_VALUE","_viewerMouseEvent","_interopRequireDefault","require","_viewerTouchEvent","e","__esModule","default","eventFactory","originalEvent","value","SVGViewer","eventType","type","ViewerMouseEvent","ViewerTouchEvent","Error","_common","ViewerEvent","constructor","scaleFactor","_cacheDecomposedValue","decompose","translationX","translationY","preventDefault","stopPropagation","_viewerEvent","_interactions","point","_cachePoint","event","mousePosition","getMousePosition","getSVGPoint","x","y","ownKeys","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","points","_cachePoints","touchesToPoints","touches","changedPoints","_cacheChangedPoints","changedTouches","touch","rect","getBoundingClientRect","clientX","Math","round","left","clientY","top","identifier","_constants","_transformationMatrix","VERSION","DEFAULT_MODE","getDefaultValue","viewerWidth","viewerHeight","SVGMinX","SVGMinY","SVGWidth","SVGHeight","scaleFactorMin","undefined","scaleFactorMax","set","identity","version","mode","focus","pinchPointDistance","prePinchMode","startX","startY","endX","endY","miniatureOpen","lastAction","patch","action","assign","freeze","isValueValid","hasOwnProperty","viewerX","viewerY","matrix","fromObject","inverseMatrix","inverse","applyToPoint","a","f","setFocus","setViewerSize","setSVGViewBox","setZoomLevels","setPointOnViewerCenter","SVGPointX","SVGPointY","zoomLevel","transform","translate","scale","reset","resetMode","_zoom","getTouchPosition","ViewerDOM","onTouchStart","tool","props","isMultiTouch","onMultiTouch","indexOf","onSingleTouch","onMouseDown","onTouchMove","onMouseMove","onTouchEnd","nextValue","shouldResetPinchPointDistance","onMouseUp","onTouchCancel","hasPinchPointDistance","detectPinchGesture","nextValueFn","touchPosition","x1","y1","x2","y2","sqrt","pow","previousPointDistance","svgPoint","distanceFactor","isZoomLevelGoingOutOfBounds","cancelable","limitZoomLevel","_pan","_mapRange","coords","SVGPoint","zoom","startZooming","startPanning","forceExit","buttons","stopZooming","updateZooming","stopPanning","updatePanning","preventPanOutside","onDoubleClick","disableDoubleClickZoomWithToolAuto","modifierKeys","modifierKeysReducer","current","modifierKey","getModifierState","modifierKeyActive","reduce","onWheel","detectWheel","delta","max","min","deltaY","mapRange","scaleFactorOnWheel","onMouseEnterOrLeave","onInterval","detectAutoPan","autoPanIfNeeded","openMiniature","closeMiniature","pan","SVGDeltaX","SVGDeltaY","panLimit","applyToPoints","moveX","moveY","start","end","deltaX","d","_calculateBox","curScaleFactor","lessThanScaleFactorMin","moreThanScaleFactorMax","scaleLevel","fitSelection","selectionSVGPointX","selectionSVGPointY","selectionWidth","selectionHeight","scaleX","scaleY","fitToViewer","SVGAlignX","SVGAlignY","scaleMatrix","translateX","translateY","remainderY","remainderX","translationMatrix","zoomOnViewerCenter","TOLERATED_DISTANCE","abs","box","calculateBox","width","height","_viewer","_uncontrolledViewer","_toolbar","_toolbarButton","_iconCursor","_iconPan","_iconFit","_iconZoomIn","_iconZoomOut","_miniature","_miniature2","key","prototype","_exportNames","get","_is","github_base","doc_v2_to_v3","tipControlledComponent","console","error","tipDeprecatedMiniatureProps","tipDeprecateToolbarProps","printMigrationTipsRelatedToProps","isNullOrUndefined","miniaturePosition","miniatureBackground","miniatureWidth","miniatureHeight","toolbarPosition","_react","_propTypes","IconArrow","_ref","open","position","createElement","stroke","fill","propTypes","PropTypes","bool","isRequired","oneOf","_RandomUID","prefixID","MiniatureMask","zoomToFit","_uid","maskID","id","style","mask","opacity","number","_default","RandomUID","_iconArrow","MiniatureToggleButton","onChangeValue","display","bottom","background","border","padding","outline","color","onClick","object","func","_miniatureToggleButton","_miniatureMask","DEFAULT_BACKGROUND","Miniature","children","SVGBackground","ratio","overflow","transition","centerTranslation","role","pointerEvents","string","IconCursor","IconFit","IconPan","IconZoomIn","IconZoomOut","ToolbarButton","React","Component","state","hover","change","setState","render","margin","active","activeColor","cursor","onMouseEnter","onMouseLeave","title","name","DEFAULT_ACTIVE_TOOL_COLOR","Toolbar","onChangeTool","activeToolColor","handleChangeTool","handleFit","isHorizontal","right","backgroundColor","borderRadius","flexDirection","BorderGradient","direction","gradientID","spreadMethod","offset","stopColor","stopOpacity","needPrefix","userAgent","navigator","toLowerCase","isFirefox","isWebkit","isTouchDevice","window","maxTouchPoints","Selection","strokeOpacity","fillOpacity","_excluded","_extends","bind","n","_objectWithoutProperties","_objectWithoutPropertiesLoose","s","includes","propertyIsEnumerable","UncontrolledReactSVGPanZoom","defaultValue","defaultTool","Viewer","changeTool","changeValue","_this$props","ref","_getDisplayName","uid","nextUID","WrappedComponent","displayName","getDisplayName","sourceStart","sourceEnd","targetStart","targetEnd","parseViewBox","viewBoxString","split","Boolean","map","_eventFactory","_parseViewBox","_interactionsTouch","_cursorPolyfill","_borderGradient","_selection","_detectTouch","_migrationTips","ReactSVGPanZoom","context","viewBox","SVGViewBox","pointerX","pointerY","autoPanLoop","process","env","NODE_ENV","componentDidUpdate","prevProps","getValue","needUpdate","setValue","componentDidMount","autoPanIsRunning","requestAnimationFrame","addEventListener","componentWillUnmount","removeEventListener","getTool","onZoom","onPan","handleViewerEvent","target","eventsHandler","click","dblclick","mousemove","mouseup","mousedown","touchstart","touchmove","touchend","touchcancel","onEventHandler","customToolbar","CustomToolbar","customMiniature","CustomMiniature","panningWithToolAuto","cursorPolyfill","blockChildEvents","touchAction","className","detectTouch","toSVG","SVGStyle","toolbarProps","miniatureProps","oneOfType","shape","b","c","array","element","propName","componentName","prop","types","Children","count","join","defaultProps","disableZoomWithToolAuto"],"sourceRoot":""}