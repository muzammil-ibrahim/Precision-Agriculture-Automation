{"version":3,"file":"react-svg-pan-zoom.min.js","mappings":"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","sources":["webpack://ReactSVGPanZoom/webpack/universalModuleDefinition","webpack://ReactSVGPanZoom/./src/constants.js","webpack://ReactSVGPanZoom/./src/events/event-factory.js","webpack://ReactSVGPanZoom/./src/events/viewer-event.js","webpack://ReactSVGPanZoom/./src/events/viewer-mouse-event.js","webpack://ReactSVGPanZoom/./src/events/viewer-touch-event.js","webpack://ReactSVGPanZoom/./src/features/common.js","webpack://ReactSVGPanZoom/./src/features/interactions-touch.js","webpack://ReactSVGPanZoom/./src/features/interactions.js","webpack://ReactSVGPanZoom/./src/features/miniature.js","webpack://ReactSVGPanZoom/./src/features/pan.js","webpack://ReactSVGPanZoom/./src/features/zoom.js","webpack://ReactSVGPanZoom/./src/index.js","webpack://ReactSVGPanZoom/./src/migration-tips.js","webpack://ReactSVGPanZoom/./src/ui-miniature/icon-arrow.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-mask.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-toggle-button.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-cursor.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-fit.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-pan.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-in.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-out.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar-button.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar.jsx","webpack://ReactSVGPanZoom/./src/ui/border-gradient.js","webpack://ReactSVGPanZoom/./src/ui/cursor-polyfill.js","webpack://ReactSVGPanZoom/./src/ui/detect-touch.js","webpack://ReactSVGPanZoom/./src/ui/selection.jsx","webpack://ReactSVGPanZoom/./src/uncontrolled-viewer.js","webpack://ReactSVGPanZoom/./src/utils/RandomUID.js","webpack://ReactSVGPanZoom/./src/utils/calculateBox.js","webpack://ReactSVGPanZoom/./src/utils/getDisplayName.js","webpack://ReactSVGPanZoom/./src/utils/is.js","webpack://ReactSVGPanZoom/./src/utils/mapRange.js","webpack://ReactSVGPanZoom/./src/utils/parseViewBox.js","webpack://ReactSVGPanZoom/./src/viewer.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/applyToPoint.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromObject.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromString.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/identity.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/inverse.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/utils.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/isAffineMatrix.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/translate.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/transform.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/rotate.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/scale.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/shear.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/skew.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/toString.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/smoothMatrix.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTriangles.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromDefinition.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTransformAttribute.autogenerated.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTransformAttribute.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/decompose.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/flip.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromMovingPoints.js","webpack://ReactSVGPanZoom/external umd {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack://ReactSVGPanZoom/external umd {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://ReactSVGPanZoom/webpack/bootstrap","webpack://ReactSVGPanZoom/webpack/runtime/define property getters","webpack://ReactSVGPanZoom/webpack/runtime/hasOwnProperty shorthand","webpack://ReactSVGPanZoom/webpack/runtime/make namespace object","webpack://ReactSVGPanZoom/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactSVGPanZoom\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"ReactSVGPanZoom\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__442__, __WEBPACK_EXTERNAL_MODULE__993__) => {\nreturn ","export const MODE_IDLE = 'idle';\nexport const MODE_PANNING = 'panning';\nexport const MODE_ZOOMING = 'zooming';\n\nexport const TOOL_AUTO = 'auto';\nexport const TOOL_NONE = 'none';\nexport const TOOL_PAN = 'pan';\nexport const TOOL_ZOOM_IN = 'zoom-in';\nexport const TOOL_ZOOM_OUT = 'zoom-out';\n\nexport const POSITION_NONE = 'none';\nexport const POSITION_TOP = 'top';\nexport const POSITION_RIGHT = 'right';\nexport const POSITION_BOTTOM = 'bottom';\nexport const POSITION_LEFT = 'left';\n\nexport const ACTION_ZOOM = 'zoom';\nexport const ACTION_PAN = 'pan';\n\nexport const ALIGN_CENTER = 'center';\nexport const ALIGN_LEFT = 'left';\nexport const ALIGN_RIGHT = 'right';\nexport const ALIGN_TOP = 'top';\nexport const ALIGN_BOTTOM = 'bottom';\nexport const ALIGN_COVER = 'cover';\n\nexport const INITIAL_VALUE = {}\n","import ViewerMouseEvent from './viewer-mouse-event';\nimport ViewerTouchEvent from './viewer-touch-event';\n\nexport default function eventFactory(originalEvent, value, SVGViewer) {\n\n  let eventType = originalEvent.type;\n\n  switch (eventType) {\n    case \"mousemove\":\n    case \"mouseup\":\n    case \"mousedown\":\n    case \"click\":\n    case \"dblclick\":\n      return new ViewerMouseEvent(originalEvent, value, SVGViewer);\n\n    case \"touchstart\":\n    case \"touchmove\":\n    case \"touchend\":\n    case \"touchcancel\":\n      return new ViewerTouchEvent(originalEvent, value, SVGViewer);\n\n    default:\n      throw new Error(`${eventType} not supported`);\n  }\n}\n","import {decompose} from '../features/common'\n\nexport default class ViewerEvent {\n  constructor(originalEvent, value, SVGViewer) {\n    this.originalEvent = originalEvent;\n    this.value = value;\n    this.SVGViewer = SVGViewer;\n  }\n\n  get scaleFactor() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.scaleFactor;\n  }\n\n  get translationX() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationX;\n  }\n\n  get translationY() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationY;\n  }\n\n  preventDefault(){\n    this.originalEvent.preventDefault();\n  }\n\n  stopPropagation(){\n    this.originalEvent.stopPropagation();\n  }\n}\n","import ViewerEvent from './viewer-event';\nimport {getMousePosition} from \"../features/interactions\";\nimport {getSVGPoint} from \"../features/common\";\n\nexport default class ViewerMouseEvent extends ViewerEvent {\n  get point() {\n    if (!this._cachePoint) {\n      const {originalEvent: event, SVGViewer, value} = this;\n      const mousePosition = getMousePosition(event, SVGViewer)\n      this._cachePoint = getSVGPoint(value, mousePosition.x, mousePosition.y);\n    }\n    return this._cachePoint;\n  }\n\n  get x() {\n    return this.point.x;\n  }\n\n  get y() {\n    return this.point.y;\n  }\n}\n","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerTouchEvent extends ViewerEvent {\n  get points() {\n    if (!this._cachePoints)\n      this._cachePoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.touches, this.SVGViewer, this.value);\n\n    return this._cachePoints;\n  }\n\n  get changedPoints() {\n    if (!this._cacheChangedPoints)\n      this._cacheChangedPoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.changedTouches, this.SVGViewer, this.value);\n\n    return this._cacheChangedPoints;\n  }\n\n  static touchesToPoints(touches, SVGViewer, value) {\n    let points = [];\n    for (let i = 0; i < touches.length; i++) {\n      let touch = touches[i];\n\n      let rect = SVGViewer.getBoundingClientRect();\n      let x = touch.clientX - Math.round(rect.left);\n      let y = touch.clientY - Math.round(rect.top);\n\n      let point = getSVGPoint(value, x, y);\n\n      points.push({...point, identifier: touch.identifier});\n    }\n    return points;\n  }\n}\n","import {MODE_IDLE} from '../constants';\nimport {applyToPoint, fromObject, identity, inverse, scale, transform, translate} from 'transformation-matrix';\n\nconst VERSION = 3\nexport const DEFAULT_MODE = MODE_IDLE\n\n/**\n * Obtain default value\n * @returns {Object}\n */\nexport function getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin = null, scaleFactorMax = null) {\n  return set({}, {\n    ...identity(),\n    version: VERSION,\n    mode: DEFAULT_MODE,\n    focus: false,\n    pinchPointDistance: null,\n    prePinchMode: null,\n    viewerWidth,\n    viewerHeight,\n    SVGMinX,\n    SVGMinY,\n    SVGWidth,\n    SVGHeight,\n    scaleFactorMin,\n    scaleFactorMax,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    miniatureOpen: true,\n    lastAction: null,\n  });\n}\n\n/**\n * Change value\n * @param value\n * @param patch\n * @param action\n * @returns {Object}\n */\nexport function set(value, patch, action = null) {\n  value = Object.assign({}, value, patch, {lastAction: action});\n  return Object.freeze(value);\n}\n\n/**\n * value valid check\n * @param value\n */\nexport function isValueValid(value) {\n  return value !== null\n    && typeof value === 'object'\n    && value.hasOwnProperty('version')\n    && value.version === VERSION;\n}\n\n/**\n * Export x,y coords relative to SVG\n * @param value\n * @param viewerX\n * @param viewerY\n * @returns {*|{x, y}|{x: number, y: number}}\n */\nexport function getSVGPoint(value, viewerX, viewerY) {\n  let matrix = fromObject(value);\n\n  let inverseMatrix = inverse(matrix);\n  return applyToPoint(inverseMatrix, {x: viewerX, y: viewerY});\n}\n\n/**\n * Decompose matrix from value\n * @param value\n * @returns {{scaleFactor: number, translationX: number, translationY: number}}\n */\nexport function decompose(value) {\n  let matrix = fromObject(value);\n\n  return {\n    scaleFactor: matrix.a,\n    translationX: matrix.e,\n    translationY: matrix.f\n  }\n}\n\n/**\n *\n * @param value\n * @param focus\n * @returns {Object}\n */\nexport function setFocus(value, focus) {\n  return set(value, {focus});\n}\n\n\n/**\n *\n * @param value\n * @param viewerWidth\n * @param viewerHeight\n * @returns {Object}\n */\nexport function setViewerSize(value, viewerWidth, viewerHeight) {\n  return set(value, {viewerWidth, viewerHeight});\n}\n\n/**\n *\n * @param value\n * @param SVGMinX\n * @param SVGMinY\n * @param SVGWidth\n * @param SVGHeight\n * @returns {Object}\n */\nexport function setSVGViewBox(value, SVGMinX, SVGMinY, SVGWidth, SVGHeight) {\n  return set(value, {SVGMinX, SVGMinY, SVGWidth, SVGHeight});\n}\n\n/**\n *\n * @param value\n * @param scaleFactorMin\n * @param scaleFactorMax\n * @returns {Object}\n */\n//TODO rename to setZoomLimits\nexport function setZoomLevels(value, scaleFactorMin, scaleFactorMax) {\n  return set(value, {scaleFactorMin, scaleFactorMax});\n}\n\n/**\n *\n * @param value\n * @param SVGPointX\n * @param SVGPointY\n * @param zoomLevel\n * @returns {Object}\n */\nexport function setPointOnViewerCenter(value, SVGPointX, SVGPointY, zoomLevel) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let matrix = transform(\n    translate(-SVGPointX + viewerWidth / 2, -SVGPointY + viewerHeight / 2),   //4\n    translate(SVGPointX, SVGPointY),                                          //3\n    scale(zoomLevel, zoomLevel),                                              //2\n    translate(-SVGPointX, -SVGPointY)                                         //1\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function reset(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    ...identity()\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function resetMode(value) {\n  return set(value, {\n    mode: DEFAULT_MODE,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  })\n}\n","import {transform, fromObject, translate, scale} from 'transformation-matrix';\nimport {\n  TOOL_PAN, TOOL_AUTO, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  MODE_IDLE, MODE_PANNING, MODE_ZOOMING\n} from '../constants';\nimport {resetMode, getSVGPoint, set} from './common';\nimport {onMouseDown, onMouseMove, onMouseUp} from './interactions';\nimport {isZoomLevelGoingOutOfBounds, limitZoomLevel} from './zoom';\n\nfunction getTouchPosition(touch, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = touch.clientX - Math.round(left);\n  let y = touch.clientY - Math.round(top);\n\n  return { x, y };\n}\n\nexport function onTouchStart(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (event.touches.length !== 1) {\n    if ([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0){\n      return resetMode(value);\n    } else if([MODE_IDLE].indexOf(value.mode) >= 0){\n      return value;\n    }\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, value, props, onMouseDown);\n}\n\nexport function onTouchMove(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, value, props, onMouseMove);\n}\n\nexport function onTouchEnd(event, ViewerDOM, tool, value, props) {\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  let nextValue = shouldResetPinchPointDistance(event, value, props) ? set(value, { pinchPointDistance: null }) : value;\n\n  if (event.touches.length > 0) {\n    return nextValue;\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, nextValue, props, onMouseUp);\n}\n\nexport function onTouchCancel(event, ViewerDOM, tool, value, props) {\n  event.stopPropagation();\n  event.preventDefault();\n\n  return resetMode(value);\n}\n\nfunction hasPinchPointDistance(value) {\n  return typeof value.pinchPointDistance === 'number';\n}\n\nfunction shouldResetPinchPointDistance(event, value, props) {\n  return props.detectPinchGesture && hasPinchPointDistance(value) && event.touches.length < 2;\n}\n\nfunction isMultiTouch(event, props) {\n  return props.detectPinchGesture && event.touches.length > 1;\n}\n\nfunction onSingleTouch(event, ViewerDOM, tool, value, props, nextValueFn) {\n  let nextValue = event.touches.length === 0 ? set(value, { mode: value.prePinchMode ? MODE_IDLE : value.mode, prePinchMode: null }) : value;\n  let touch = event.touches.length > 0 ? event.touches[0] : event.changedTouches[0];\n  let touchPosition = getTouchPosition(touch, ViewerDOM);\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n    case TOOL_ZOOM_IN:\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      event.stopPropagation();\n      event.preventDefault();\n      return nextValueFn(event, ViewerDOM, tool, nextValue, props, touchPosition);\n\n    default:\n      return nextValue;\n  }\n}\n\nfunction onMultiTouch(event, ViewerDOM, tool, value, props) {\n  const {left, top} = ViewerDOM.getBoundingClientRect();\n  const x1 = event.touches[0].clientX - Math.round(left);\n  const y1 = event.touches[0].clientY - Math.round(top);\n  const x2 = event.touches[1].clientX - Math.round(left);\n  const y2 = event.touches[1].clientY - Math.round(top);\n  const pinchPointDistance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n  const previousPointDistance = hasPinchPointDistance(value) ? value.pinchPointDistance : pinchPointDistance;\n  const svgPoint = getSVGPoint(value, (x1 + x2) / 2, (y1 + y2) / 2);\n  let distanceFactor = pinchPointDistance/previousPointDistance;\n\n  if (isZoomLevelGoingOutOfBounds(value, distanceFactor)) {\n    // Do not change translation and scale of value\n    return value;\n  }\n\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n\n  let matrix = transform(\n    fromObject(value),\n    translate(svgPoint.x, svgPoint.y),\n    scale(distanceFactor, distanceFactor),\n    translate(-svgPoint.x, -svgPoint.y)\n  );\n\n  return set(value, set({\n    mode: MODE_ZOOMING,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    prePinchMode: value.prePinchMode ? value.prePinchMode : value.mode,\n    pinchPointDistance\n  }));\n}\n","import {MODE_PANNING, MODE_ZOOMING, TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,} from '../constants';\nimport {getSVGPoint, setFocus} from './common';\nimport {autoPanIfNeeded, startPanning, stopPanning, updatePanning} from './pan';\nimport {startZooming, stopZooming, updateZooming, zoom} from './zoom';\nimport mapRange from '../utils/mapRange';\n\nexport function getMousePosition(event, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = event.clientX - Math.round(left);\n  let y = event.clientY - Math.round(top);\n  return {x, y}\n}\n\nexport function onMouseDown(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      let SVGPoint = getSVGPoint(value, x, y);\n      nextValue = zoom(value, SVGPoint.x, SVGPoint.y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      nextValue = startZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      nextValue = startPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseMove(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let forceExit = (event.buttons === 0); //the mouse exited and reentered into svg\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = forceExit ? stopZooming(value, x, y, props.scaleFactor, props) : updateZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = forceExit ? stopPanning(value) : updatePanning(value, x, y, props.preventPanOutside ? 20 : undefined);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseUp(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, props.scaleFactor, props);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = stopPanning(value);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onDoubleClick(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  if (tool === TOOL_AUTO && !props.disableDoubleClickZoomWithToolAuto) {\n    const {modifierKeys = []} = props;\n    let SVGPoint = getSVGPoint(value, x, y);\n    let modifierKeysReducer = (current, modifierKey) => current || event.getModifierState(modifierKey);\n    let modifierKeyActive = modifierKeys.reduce(modifierKeysReducer, false);\n    let scaleFactor = modifierKeyActive ? 1 / props.scaleFactor : props.scaleFactor;\n    nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onWheel(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  if (!props.detectWheel) return value;\n\n  let delta = Math.max(-1, Math.min(1, event.deltaY));\n  let scaleFactor = mapRange(delta, -1, 1, props.scaleFactorOnWheel, 1 / props.scaleFactorOnWheel);\n\n  let SVGPoint = getSVGPoint(value, x, y);\n  let nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseEnterOrLeave(event, ViewerDOM, tool, value, props, coords = null) {\n  let nextValue = setFocus(value, event.type === 'mouseenter');\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onInterval(event, ViewerDOM, tool, value, props, coords = null) {\n  let {x, y} = coords;\n\n  if (!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0)) return value;\n  if (!props.detectAutoPan) return value;\n  if (!value.focus) return value;\n\n  return autoPanIfNeeded(value, x, y);\n}\n","import {set} from './common';\n\n\nexport function openMiniature(value) {\n  return set(value, {\n    miniatureOpen: true\n  });\n}\n\nexport function closeMiniature(value) {\n  return set(value, {\n    miniatureOpen: false\n  });\n}\n\n","import {ACTION_PAN, MODE_IDLE, MODE_PANNING} from '../constants';\nimport {set, getSVGPoint} from './common';\nimport {fromObject, translate, transform, applyToPoints} from 'transformation-matrix';\n\n/**\n * Atomic pan operation\n * @param value\n * @param SVGDeltaX drag movement\n * @param SVGDeltaY drag movement\n * @param panLimit forces the image to keep at least x pixel inside the viewer\n * @returns {Object}\n */\nexport function pan(value, SVGDeltaX, SVGDeltaY, panLimit = undefined) {\n\n  let matrix = transform(\n    fromObject(value),              //2\n    translate(SVGDeltaX, SVGDeltaY) //1\n  );\n\n  // apply pan limits\n  if (panLimit) {\n    let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(matrix, [\n      {x: value.SVGMinX + panLimit, y: value.SVGMinY + panLimit},\n      {x: value.SVGMinX + value.SVGWidth - panLimit, y: value.SVGMinY + value.SVGHeight - panLimit}\n    ]);\n\n    //x limit\n    let moveX = 0;\n    if (value.viewerWidth - x1 < 0)\n      moveX = value.viewerWidth - x1;\n    else if (x2 < 0) moveX = -x2;\n\n\n    //y limit\n    let moveY = 0;\n    if (value.viewerHeight - y1 < 0)\n      moveY = value.viewerHeight - y1;\n    else if (y2 < 0) moveY = -y2;\n\n    //apply limits\n    matrix = transform(\n      translate(moveX, moveY),\n      matrix\n    )\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  }, ACTION_PAN);\n}\n\n/**\n * Start pan operation lifecycle\n * @param value\n * @param viewerX\n * @param viewerY\n * @return {ReadonlyArray<unknown>}\n */\nexport function startPanning(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_PANNING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  }, ACTION_PAN);\n}\n\n/**\n * Continue pan operation lifecycle\n * @param value\n * @param viewerX\n * @param viewerY\n * @param panLimit\n * @return {ReadonlyArray<unknown>}\n */\nexport function updatePanning(value, viewerX, viewerY, panLimit) {\n  if (value.mode !== MODE_PANNING) throw new Error('update pan not allowed in this mode ' + value.mode);\n\n  let {endX, endY} = value;\n\n  let start = getSVGPoint(value, endX, endY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  let deltaX = end.x - start.x;\n  let deltaY = end.y - start.y;\n\n  let nextValue = pan(value, deltaX, deltaY, panLimit);\n  return set(nextValue, {\n    mode: MODE_PANNING,\n    endX: viewerX,\n    endY: viewerY,\n  }, ACTION_PAN);\n}\n\n/**\n * Stop pan operation lifecycle\n * @param value\n * @return {ReadonlyArray<unknown>}\n */\nexport function stopPanning(value) {\n  return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    }, ACTION_PAN\n  );\n}\n\n/**\n * when pointer is on viewer edge -> pan image\n * @param value\n * @param viewerX\n * @param viewerY\n * @return {ReadonlyArray<any>}\n */\nexport function autoPanIfNeeded(value, viewerX, viewerY) {\n  let deltaX = 0;\n  let deltaY = 0;\n\n  if (viewerY <= 20) deltaY = 2;\n  if (value.viewerWidth - viewerX <= 20) deltaX = -2;\n  if (value.viewerHeight - viewerY <= 20) deltaY = -2;\n  if (viewerX <= 20) deltaX = 2;\n\n  deltaX = deltaX / value.d;\n  deltaY = deltaY / value.d;\n\n  return (deltaX === 0 && deltaY === 0) ? value : pan(value, deltaX, deltaY);\n}\n","import {fromObject, scale, transform, translate} from 'transformation-matrix';\n\nimport {\n  ACTION_ZOOM, MODE_IDLE, MODE_ZOOMING,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM, ALIGN_COVER\n} from '../constants';\nimport {decompose, getSVGPoint, set} from './common';\nimport calculateBox from '../utils/calculateBox';\n\nexport function isZoomLevelGoingOutOfBounds(value, scaleFactor) {\n  const {scaleFactor: curScaleFactor} = decompose(value)\n  const lessThanScaleFactorMin = value.scaleFactorMin && (curScaleFactor * scaleFactor) < value.scaleFactorMin;\n  const moreThanScaleFactorMax = value.scaleFactorMax && (curScaleFactor * scaleFactor) > value.scaleFactorMax;\n\n  return (lessThanScaleFactorMin && scaleFactor < 1) || (moreThanScaleFactorMax && scaleFactor > 1);\n}\n\nexport function limitZoomLevel(value, matrix) {\n  let scaleLevel = matrix.a;\n\n  if(value.scaleFactorMin != null) {\n    // limit minimum zoom\n    scaleLevel = Math.max(scaleLevel, value.scaleFactorMin);\n  }\n\n  if(value.scaleFactorMax != null) {\n    // limit maximum zoom\n    scaleLevel = Math.min(scaleLevel, value.scaleFactorMax);\n  }\n\n  return set(matrix, {\n    a: scaleLevel,\n    d: scaleLevel\n  });\n}\n\nexport function zoom(value, SVGPointX, SVGPointY, scaleFactor) {\n  if (isZoomLevelGoingOutOfBounds(value, scaleFactor)) {\n      // Do not change translation and scale of value\n      return value;\n  }\n\n  const matrix = transform(\n    fromObject(value),\n    translate(SVGPointX, SVGPointY),\n    scale(scaleFactor, scaleFactor),\n    translate(-SVGPointX, -SVGPointY)\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\n//ENHANCEMENT: add ability to control alignment\n//ENHANCEMENT: add ability to selectively fit image inside viewer\n//ENHANCEMENT: refactor some logic in order to merge with fitToViewer function\nexport function fitSelection(value, selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let scaleX = viewerWidth / selectionWidth;\n  let scaleY = viewerHeight / selectionHeight;\n\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  const matrix = transform(\n    scale(scaleLevel, scaleLevel),                      //2\n    translate(-selectionSVGPointX, -selectionSVGPointY) //1\n  );\n\n  if(isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function fitToViewer(value, SVGAlignX=ALIGN_LEFT, SVGAlignY=ALIGN_TOP) {\n  let {viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight} = value;\n\n  let scaleX = viewerWidth / SVGWidth;\n  let scaleY = viewerHeight / SVGHeight;\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  let scaleMatrix = scale(scaleLevel, scaleLevel);\n\n  let translateX = -SVGMinX * scaleX;\n  let translateY = -SVGMinY * scaleY;\n\n // after fitting, SVG and the viewer will match in width (1) or in height (2) or SVG will cover the container with preserving aspect ratio (0)\n if (scaleX < scaleY) {\n    let remainderY = viewerHeight - scaleX * SVGHeight;\n\n    //(1) match in width, meaning scaled SVGHeight <= viewerHeight\n    switch(SVGAlignY) {\n      case ALIGN_TOP:\n        translateY = -SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_CENTER:\n        translateY = Math.round(remainderY / 2) - SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_BOTTOM:\n        translateY = remainderY - SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_COVER:\n        scaleMatrix = scale(scaleY, scaleY); // (0) we must now match to short edge, in this case - height\n        let remainderX = viewerWidth - scaleY * SVGWidth; // calculate remainder in the other scale\n\n        translateX = SVGMinX + Math.round(remainderX / 2); // center by the long edge\n      break;\n\n      default:\n        //no op\n    }\n  } else {\n    let remainderX = viewerWidth - scaleY * SVGWidth;\n\n    //(2) match in height, meaning scaled SVGWidth <= viewerWidth\n    switch(SVGAlignX) {\n      case ALIGN_LEFT:\n        translateX = -SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_CENTER:\n        translateX = Math.round(remainderX / 2) - SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_RIGHT:\n        translateX = remainderX - SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_COVER:\n        scaleMatrix = scale(scaleX, scaleX); // (0) we must now match to short edge, in this case - width\n        let remainderY = viewerHeight - scaleX * SVGHeight; // calculate remainder in the other scale\n\n        translateY = SVGMinY + Math.round(remainderY / 2); // center by the long edge\n      break;\n\n      default:\n        //no op\n    }\n  }\n\n  const translationMatrix = translate(translateX, translateY);\n\n  const matrix = transform(\n    translationMatrix, //2\n    scaleMatrix        //1\n  );\n\n  if (isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function zoomOnViewerCenter(value, scaleFactor) {\n  let {viewerWidth, viewerHeight} = value;\n  let SVGPoint = getSVGPoint(value, viewerWidth / 2, viewerHeight / 2);\n  return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n}\n\nexport function startZooming(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_ZOOMING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function updateZooming(value, viewerX, viewerY) {\n  if (value.mode !== MODE_ZOOMING) throw new Error('update selection not allowed in this mode ' + value.mode);\n\n  return set(value, {\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function stopZooming(value, viewerX, viewerY, scaleFactor) {\n  const TOLERATED_DISTANCE = 7 //minimum distance to choose if area selection or drill down on point\n  let {startX, startY} = value;\n\n  let start = getSVGPoint(value, startX, startY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  if (Math.abs(startX - viewerX) > TOLERATED_DISTANCE && Math.abs(startY - viewerY) > TOLERATED_DISTANCE) {\n    let box = calculateBox(start, end);\n    return fitSelection(value, box.x, box.y, box.width, box.height);\n  } else {\n    let SVGPoint = getSVGPoint(value, viewerX, viewerY);\n    return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n  }\n}\n","export {default as ReactSVGPanZoom} from './viewer';\nexport {default as UncontrolledReactSVGPanZoom} from './uncontrolled-viewer';\nexport {default as Toolbar} from './ui-toolbar/toolbar';\nexport {default as ToolbarButton} from './ui-toolbar/toolbar-button';\nexport {default as IconCursor} from './ui-toolbar/icon-cursor';\nexport {default as IconPan} from './ui-toolbar/icon-pan';\nexport {default as IconFit} from './ui-toolbar/icon-fit';\nexport {default as IconZoomIn} from './ui-toolbar/icon-zoom-in';\nexport {default as IconZoomOut} from './ui-toolbar/icon-zoom-out';\nexport {default as Miniature} from './ui-miniature/miniature';\nexport {setPointOnViewerCenter, reset} from './features/common';\nexport {pan} from './features/pan';\nexport {zoom, fitSelection, fitToViewer, zoomOnViewerCenter} from './features/zoom';\nexport {openMiniature, closeMiniature} from './features/miniature'\nexport * from './constants';\n","import {isNullOrUndefined} from \"./utils/is\";\n\nconst github_base = 'https://github.com/chrvadala/react-svg-pan-zoom/blob/main'\n\nconst doc_v2_to_v3 = github_base + '/docs/migrate-from-v2-to-v3.md'\n\nexport function tipControlledComponent() {\n  console.error(`HEY! With ReactSVGPanZoom >= 3 you MUST specify value and tool props. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecatedMiniatureProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the props miniaturePosition, miniatureBackground, miniatureWidth, miniatureHeight can be specified as key in the miniatureProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecateToolbarProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the prop toolbarPosition can be specified as key in the toolbarProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function printMigrationTipsRelatedToProps(props){\n  if (\n    isNullOrUndefined(props.tool) ||\n    isNullOrUndefined(props.value)\n  ) tipControlledComponent()\n\n  if (\n    !isNullOrUndefined(props.miniaturePosition) ||\n    !isNullOrUndefined(props.miniatureBackground) ||\n    !isNullOrUndefined(props.miniatureWidth) ||\n    !isNullOrUndefined(props.miniatureHeight)\n  ) tipDeprecatedMiniatureProps()\n\n\n  if (\n    !isNullOrUndefined(props.toolbarPosition)\n  ) tipDeprecateToolbarProps()\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\n//credits https://materialdesignicons.com/icon/chevron-up\n\nexport default function IconArrow({open, position}) {\n\n  let transform = 0;\n\n  switch (position){\n    case POSITION_LEFT:\n      transform = open ? \"rotate(225, 12, 13)\" : \"rotate(45, 12, 13)\";\n      break;\n\n    case POSITION_RIGHT:\n      transform = transform = open ? \"rotate(135, 12, 13)\" : \"rotate(-45, 12, 13)\";\n      break;\n\n    default:\n      //no op\n  }\n\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g transform={transform}>\n        <path fill=\"#000000\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\"/>\n      </g>\n    </svg>\n  );\n}\n\nIconArrow.propTypes = {\n  open: PropTypes.bool.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_miniature'\n\nfunction MiniatureMask({SVGMinX, SVGMinY, SVGWidth, SVGHeight, x1, y1, x2, y2, zoomToFit, _uid}) {\n  const maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <mask id={maskID}>\n          <rect x={SVGMinX} y={SVGMinY} width={SVGWidth} height={SVGHeight} fill=\"#ffffff\"/>\n          <rect x={x1} y={y1} width={x2 - x1} height={y2 - y1}/>\n        </mask>\n      </defs>\n\n      <rect\n        x={SVGMinX}\n        y={SVGMinY}\n        width={SVGWidth}\n        height={SVGHeight}\n        style={{\n          stroke: \"none\",\n          fill: \"#000\",\n          mask: `url(#${maskID})`,\n          opacity: 0.4\n        }}\n      />\n    </g>)\n}\n\nMiniatureMask.propTypes = {\n  SVGWidth: PropTypes.number.isRequired,\n  SVGHeight: PropTypes.number.isRequired,\n  SVGMinX: PropTypes.number.isRequired,\n  SVGMinY: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired,\n  zoomToFit: PropTypes.number.isRequired,\n}\n\nexport default RandomUID(MiniatureMask)\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {openMiniature, closeMiniature} from '../features/miniature';\nimport IconArrow from './icon-arrow';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\nexport default function MiniatureToggleButton({value, onChangeValue, position}) {\n  let style = {\n    width: \"24px\",\n    height: \"24px\",\n    display: \"block\",\n    position: \"absolute\",\n    bottom: 0,\n    [position === POSITION_LEFT ? 'left' : 'right']: '0px',\n    background: \"rgba(19, 20, 22, 0.901961)\",\n    border: 0,\n    padding: 0,\n    outline: 0,\n    color: \"#fff\"\n  };\n\n  let action = value.miniatureOpen ? closeMiniature : openMiniature;\n\n  return (\n    <button type=\"button\" style={style} onClick={() => onChangeValue(action(value))}>\n      <IconArrow open={value.miniatureOpen} position={position}/>\n    </button>\n  )\n\n}\n\nMiniatureToggleButton.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_LEFT, POSITION_RIGHT,} from '../constants';\nimport {applyToPoints, inverse} from 'transformation-matrix';\nimport MiniatureToggleButton from './miniature-toggle-button';\nimport MiniatureMask from './miniature-mask';\n\n\nconst DEFAULT_BACKGROUND = \"#616264\"\n\nexport default function Miniature({ value,\n  onChangeValue,\n  children,\n  SVGBackground,\n  background = DEFAULT_BACKGROUND,\n  position = POSITION_LEFT,\n  width: miniatureWidth = 100,\n  height: miniatureHeight = 80\n} ) {\n\n  let {SVGMinX, SVGMinY, SVGWidth, SVGHeight, viewerWidth, viewerHeight} = value;\n\n  let ratio = SVGHeight / SVGWidth;\n\n  let zoomToFit = ratio >= 1\n    ? miniatureHeight / SVGHeight\n    : miniatureWidth / SVGWidth;\n\n  let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(inverse(value), [\n    {x: 0, y: 0},\n    {x: viewerWidth, y: viewerHeight}\n  ]);\n\n  let width, height;\n  if (value.miniatureOpen) {\n    width = miniatureWidth;\n    height = miniatureHeight;\n  } else {\n    width = 24;\n    height = 24;\n  }\n\n  let style = {\n    position: \"absolute\",\n    overflow: \"hidden\",\n    outline: \"1px solid rgba(19, 20, 22, 0.90)\",\n    transition: \"width 200ms ease, height 200ms ease, bottom 200ms ease\",\n    width: width + \"px\",\n    height: height + \"px\",\n    bottom: \"6px\",\n    [position === POSITION_LEFT ? 'left' : 'right']: \"6px\",\n    background\n  };\n\n  let centerTranslation = ratio >= 1\n    ? `translate(${(miniatureWidth - (SVGWidth * zoomToFit)) / 2 - SVGMinX * zoomToFit}, ${ - SVGMinY * zoomToFit})`\n    : `translate(${ - SVGMinX * zoomToFit}, ${(miniatureHeight - (SVGHeight * zoomToFit)) / 2 - SVGMinY * zoomToFit})`;\n\n  return (\n    <div role=\"navigation\" style={style}>\n      <svg\n        width={miniatureWidth}\n        height={miniatureHeight}\n        style={{pointerEvents: \"none\"}}>\n        <g transform={centerTranslation}>\n          <g transform={`scale(${zoomToFit}, ${zoomToFit})`}>\n\n            <rect\n              fill={SVGBackground}\n              x={SVGMinX}\n              y={SVGMinY}\n              width={SVGWidth}\n              height={SVGHeight}/>\n\n            {children}\n\n            <MiniatureMask\n              SVGWidth={SVGWidth}\n              SVGHeight={SVGHeight}\n              SVGMinX={SVGMinX}\n              SVGMinY={SVGMinY}\n              x1={x1}\n              y1={y1}\n              x2={x2}\n              y2={y2}\n              zoomToFit={zoomToFit}\n            />\n\n          </g>\n        </g>\n      </svg>\n      <MiniatureToggleButton value={value} onChangeValue={onChangeValue} position={position}/>\n    </div>\n  )\n}\n\nMiniature.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  SVGBackground: PropTypes.string.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]),\n  background: PropTypes.string,\n  width: PropTypes.number,\n  height: PropTypes.number,\n};\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconCursor() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconFit() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://materialdesignicons.com/icon/cursor-move\n\nexport default function IconPan() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_in\n\nexport default function IconZoomIn() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g>\n        <path\n          d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_out\n\nexport default function IconZoomOut() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n    </svg>\n  )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  POSITION_TOP, POSITION_BOTTOM\n} from '../constants';\n\nexport default class ToolbarButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {hover: false};\n  }\n\n  change(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.type) {\n      case 'mouseenter':\n      case 'touchstart':\n        this.setState({hover: true});\n        break;\n      case 'mouseleave':\n      case 'touchend':\n      case 'touchcancel':\n        this.setState({hover: false});\n        break;\n      default:\n        //noop\n    }\n  }\n\n  render() {\n    let style = {\n      display: \"block\",\n      width: \"24px\",\n      height: \"24px\",\n      margin: [POSITION_TOP, POSITION_BOTTOM].indexOf(this.props.toolbarPosition) >= 0 ? \"2px 1px\" : \"1px 2px\",\n      color: this.props.active || this.state.hover ? this.props.activeColor : '#FFF',\n      transition: \"color 200ms ease\",\n      background: \"none\",\n      padding: \"0px\",\n      border: \"0px\",\n      outline: \"0px\",\n      cursor: \"pointer\"\n    };\n\n    return (\n      <button\n        onMouseEnter={e => this.change(e)}\n        onMouseLeave={e => this.change(e)}\n\n        onTouchStart={e => {\n          this.change(e);\n          this.props.onClick(e);\n        }}\n        onTouchEnd={e => this.change(e)}\n        onTouchCancel={e => this.change(e)}\n\n        onClick={this.props.onClick}\n\n        style={style}\n        title={this.props.title}\n        name={this.props.name}\n        type=\"button\"\n      >{this.props.children}</button>\n    )\n  }\n\n}\n\nToolbarButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  toolbarPosition: PropTypes.string.isRequired,\n  activeColor: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  active: PropTypes.bool.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM,\n} from '../constants';\n\nimport {fitToViewer} from '../features/zoom';\nimport IconCursor from './icon-cursor';\nimport IconPan from './icon-pan';\nimport IconZoomIn from './icon-zoom-in';\nimport IconZoomOut from './icon-zoom-out';\nimport IconFit from './icon-fit';\nimport ToolbarButton from './toolbar-button';\n\nconst DEFAULT_ACTIVE_TOOL_COLOR = '#1CA6FC'\nexport default function Toolbar({ tool,\n  value,\n  onChangeValue,\n  onChangeTool,\n  activeToolColor = DEFAULT_ACTIVE_TOOL_COLOR,\n  position = POSITION_RIGHT,\n  SVGAlignX = ALIGN_LEFT,\n  SVGAlignY = ALIGN_TOP\n}) {\n\n  let handleChangeTool = (event, tool) => {\n    onChangeTool(tool);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let handleFit = event => {\n    onChangeValue(fitToViewer(value, SVGAlignX, SVGAlignY));\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let isHorizontal = [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0;\n\n  let style = {\n    //position\n    position: \"absolute\",\n    transform: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"translate(-50%, 0px)\" : \"none\",\n    top: [POSITION_LEFT, POSITION_RIGHT, POSITION_TOP].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    left: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"50%\" : (POSITION_LEFT === position ? \"5px\" : \"unset\"),\n    right: [POSITION_RIGHT].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    bottom: [POSITION_BOTTOM].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n\n    //inner styling\n    backgroundColor: \"rgba(19, 20, 22, 0.90)\",\n    borderRadius: \"2px\",\n    display: \"flex\",\n    flexDirection: isHorizontal ? \"row\" : \"column\",\n    padding: isHorizontal ? \"1px 2px\" : \"2px 1px\"\n  };\n\n  return (\n    <div style={style} role=\"toolbar\">\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_NONE}\n        activeColor={activeToolColor}\n        name=\"unselect-tools\"\n        title=\"Selection\"\n        onClick={ event => handleChangeTool(event, TOOL_NONE) }>\n        <IconCursor/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_PAN}\n        activeColor={activeToolColor}\n        name=\"select-tool-pan\"\n        title=\"Pan\"\n        onClick={ event => handleChangeTool(event, TOOL_PAN) }>\n        <IconPan/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_IN}\n        activeColor={activeToolColor}\n        name=\"select-tool-zoom-in\"\n        title=\"Zoom in\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_IN) }>\n        <IconZoomIn/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_OUT}\n        activeColor={activeToolColor}\n        name=\"select-tool-zoom-out\"\n        title=\"Zoom out\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_OUT) }>\n        <IconZoomOut/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={false}\n        activeColor={activeToolColor}\n        name=\"fit-to-viewer\"\n        title=\"Fit to viewer\"\n        onClick={ event => handleFit(event) }>\n        <IconFit/>\n      </ToolbarButton>\n    </div>\n  )\n}\n\nToolbar.propTypes = {\n  tool: PropTypes.string.isRequired,\n  onChangeTool: PropTypes.func.isRequired,\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n  SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n  SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n  activeToolColor: PropTypes.string\n};\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT} from '../constants';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_border_gradient'\n\nfunction BorderGradient({direction, width, height, _uid}) {\n\n  let transform;\n\n  switch (direction) {\n    case POSITION_TOP:\n      transform = `translate(${width}, 0) rotate(90)`;\n      break;\n\n    case POSITION_RIGHT:\n      transform = `translate(${width}, ${height}) rotate(180)`;\n      break;\n\n    case POSITION_BOTTOM:\n      transform = `translate(0, ${height}) rotate(270)`;\n      break;\n\n    case POSITION_LEFT:\n    default:\n      transform = \" \";\n      break;\n  }\n\n  let gradientID = `${prefixID}_gradient_${_uid}`\n  let maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <linearGradient id={gradientID} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\" spreadMethod=\"pad\">\n          <stop offset=\"0%\" stopColor=\"#fff\" stopOpacity=\"0.8\"/>\n          <stop offset=\"100%\" stopColor=\"#000\" stopOpacity=\"0.5\"/>\n        </linearGradient>\n\n        <mask id={maskID} x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}>\n          <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n                style={{stroke: \"none\", fill: `url(#${gradientID})`}}/>\n        </mask>\n      </defs>\n\n      <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n            style={{stroke: \"none\", fill: \"#000\", mask: `url(#${maskID})`}} transform={transform}/>\n    </g>\n  );\n}\n\nBorderGradient.propTypes = {\n  direction: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\n\nexport default RandomUID(BorderGradient)\n","//specs: https://developer.mozilla.org/en-US/docs/Web/CSS/cursor\n\nlet needPrefix = (cursor) => ['zoom-in', 'zoom-out', 'grab', 'grabbing'].indexOf(cursor) > -1;\nlet userAgent = () => navigator.userAgent.toLowerCase();\nlet isFirefox = () => userAgent().indexOf('firefox') > -1;\nlet isWebkit = () => userAgent().indexOf('webkit') > -1;\n\nexport default function (cursor) {\n  if (!needPrefix(cursor)) return cursor;\n  if (isFirefox()) return `-moz-${cursor}`;\n  if (isWebkit()) return `-webkit-${cursor}`;\n}\n\n\n","//http://stackoverflow.com/a/4819886/1398836\n\nexport default function isTouchDevice() {\n  return 'ontouchstart' in window        // works on most browsers\n    || navigator.maxTouchPoints;       // works on IE10/11 and Surface\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport calculateBox from '../utils/calculateBox';\n\nexport default function Selection({startX, startY, endX, endY}) {\n  if (!startX || !startY || !endX || !endY) return null;\n\n  let box = calculateBox({x: startX, y: startY}, {x: endX, y: endY});\n\n  return (<rect\n    stroke=\"#969FFF\"\n    strokeOpacity={0.7}\n    fill=\"#F3F4FF\"\n    fillOpacity={0.7}\n    x={box.x}\n    y={box.y}\n    width={box.width}\n    height={box.height}\n    style={{pointerEvents: \"none\"}}/>);\n}\n\nSelection.propTypes = {\n  startX: PropTypes.number,\n  startY: PropTypes.number,\n  endX: PropTypes.number,\n  endY: PropTypes.number\n};\n","import React from \"react\";\nimport ReactSVGPanZoom from './viewer'\nimport PropTypes from \"prop-types\";\nimport {TOOL_NONE} from \"./constants\";\n\nexport default class UncontrolledReactSVGPanZoom extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: props.defaultValue || {},\n      tool: props.defaultTool || TOOL_NONE,\n    }\n\n    this.Viewer = null;\n    this.changeTool = this.changeTool.bind(this)\n    this.changeValue = this.changeValue.bind(this)\n  }\n\n  changeTool(tool) {\n    this.setState({tool})\n  }\n\n  changeValue(value) {\n    this.setState({value})\n  }\n\n  pan(SVGDeltaX, SVGDeltaY) {\n    this.Viewer.pan(SVGDeltaX, SVGDeltaY)\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    this.Viewer.zoom(SVGPointX, SVGPointY, scaleFactor)\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    this.Viewer.fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight)\n  }\n\n  fitToViewer(SVGAlignX, SVGAlignY) {\n    this.Viewer.fitToViewer(SVGAlignX, SVGAlignY)\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    this.Viewer.zoomOnViewerCenter(scaleFactor)\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    this.Viewer.setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel)\n  }\n\n  reset() {\n    this.Viewer.reset()\n  }\n\n  openMiniature() {\n    this.Viewer.openMiniature()\n  }\n\n  closeMiniature() {\n    this.Viewer.closeMiniature()\n  }\n\n  render() {\n    const {width, height, onChangeTool, onChangeValue, ...props} = this.props\n    const {tool, value} = this.state\n\n    return (\n      <ReactSVGPanZoom\n        width={width} height={height}\n        tool={tool} onChangeTool={this.changeTool}\n        value={value} onChangeValue={this.changeValue}\n        ref={Viewer => this.Viewer = Viewer}\n        {...props}\n      />\n    )\n  }\n}\n\nUncontrolledReactSVGPanZoom.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n\n  defaultValue: PropTypes.object,\n  defaultTool: PropTypes.string,\n}\n","import React from \"react\";\nimport getDisplayName from \"./getDisplayName\";\n\nlet uid = 1;\nconst nextUID = () => `uid${uid++}`;\n\nexport default function RandomUID(WrappedComponent) {\n  class RandomUID extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {uid: nextUID()}\n    }\n\n    render() {\n      return <WrappedComponent _uid={this.state.uid} {...this.props}/>\n    }\n  }\n\n  RandomUID.displayName = `RandomUID(${getDisplayName(WrappedComponent)})`;\n\n  return RandomUID;\n}\n","export default function calculateBox(start, end) {\n  if (start.x <= end.x && start.y <= end.y) {\n    return {\n      x: start.x,\n      y: start.y,\n      width: end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y <= end.y) {\n    return {\n      x: end.x,\n      y: start.y,\n      width: start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y >= end.y) {\n    return {\n      x: end.x,\n      y: end.y,\n      width: start.x - end.x,\n      height: start.y - end.y\n    };\n  } else if (start.x <= end.x && start.y >= end.y) {\n    return {\n      x: start.x,\n      y: end.y,\n      width: end.x - start.x,\n      height: start.y - end.y\n    };\n  }\n}\n\n","//https://facebook.github.io/react/docs/higher-order-components.html#convention-wrap-the-display-name-for-easy-debugging\nexport default function getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n","export function isNullOrUndefined(value) {\n  return typeof value === 'undefined' || value === null\n}\n","/**\n * Convert (re-map) an input value range into a destination range.\n * @param value\n * @param sourceStart\n * @param sourceEnd\n * @param targetStart\n * @param targetEnd\n * @return number\n */\n\nexport default function mapRange(value, sourceStart, sourceEnd, targetStart, targetEnd) {\n  return targetStart + (targetEnd - targetStart) * (value - sourceStart) / (sourceEnd - sourceStart);\n}\n","export default function parseViewBox(viewBoxString) {\n  // viewBox specs: https://www.w3.org/TR/SVG/coords.html#ViewBoxAttribute\n  return viewBoxString\n    .split(/[ ,]/) // split optional comma\n    .filter(Boolean) // remove empty strings\n    .map(Number); // cast to Number\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {toSVG} from 'transformation-matrix';\n//events\nimport eventFactory from './events/event-factory';\n//features\nimport {pan} from './features/pan';\nimport {\n  getDefaultValue,\n  isValueValid,\n  reset,\n  setPointOnViewerCenter,\n  setSVGViewBox,\n  setViewerSize,\n  setZoomLevels\n} from './features/common';\nimport {\n  onDoubleClick,\n  onInterval,\n  onMouseDown,\n  onMouseEnterOrLeave,\n  onMouseMove,\n  onMouseUp,\n  onWheel\n} from './features/interactions';\nimport parseViewBox from './utils/parseViewBox';\nimport {onTouchCancel, onTouchEnd, onTouchMove, onTouchStart} from './features/interactions-touch';\n\nimport {fitSelection, fitToViewer, zoom, zoomOnViewerCenter} from './features/zoom';\nimport {closeMiniature, openMiniature} from './features/miniature';\n//ui\nimport cursorPolyfill from './ui/cursor-polyfill';\nimport BorderGradient from './ui/border-gradient';\nimport Selection from './ui/selection';\nimport Toolbar from './ui-toolbar/toolbar';\nimport detectTouch from './ui/detect-touch';\nimport Miniature from './ui-miniature/miniature'\n\nimport {\n  ACTION_PAN,\n  ACTION_ZOOM,\n  ALIGN_BOTTOM,\n  ALIGN_CENTER,\n  ALIGN_LEFT,\n  ALIGN_RIGHT,\n  ALIGN_TOP,\n  MODE_IDLE,\n  MODE_PANNING,\n  MODE_ZOOMING,\n  POSITION_BOTTOM,\n  POSITION_LEFT,\n  POSITION_NONE,\n  POSITION_RIGHT,\n  POSITION_TOP,\n  TOOL_AUTO,\n  TOOL_NONE,\n  TOOL_PAN,\n  TOOL_ZOOM_IN,\n  TOOL_ZOOM_OUT\n} from './constants';\nimport {printMigrationTipsRelatedToProps} from \"./migration-tips\";\n\nexport default class ReactSVGPanZoom extends React.Component {\n\n  constructor(props, context) {\n    const {width: viewerWidth, height: viewerHeight, scaleFactorMin, scaleFactorMax, children} = props;\n    const {viewBox: SVGViewBox} = children.props;\n    let defaultValue;\n    if (SVGViewBox) {\n      const [SVGMinX, SVGMinY, SVGWidth, SVGHeight] = parseViewBox(SVGViewBox);\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax)\n    } else {\n      const {width: SVGWidth, height: SVGHeight} = children.props;\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, 0, 0, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax)\n    }\n\n    super(props, context);\n    this.ViewerDOM = null;\n    this.state = {\n      pointerX: null,\n      pointerY: null,\n      defaultValue\n    }\n    this.autoPanLoop = this.autoPanLoop.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props)\n    }\n  }\n\n  /** React hooks **/\n  componentDidUpdate(prevProps) {\n    const value = this.getValue();\n    const props = this.props\n\n    let nextValue = value;\n    let needUpdate = false;\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props)\n    }\n\n    // This block checks the size of the SVG\n    const {viewBox: SVGViewBox} = props.children.props;\n    if (SVGViewBox) {\n      // if the viewBox prop is specified\n      const [x, y, width, height] = parseViewBox(SVGViewBox);\n\n      if(value.SVGMinX !== x || value.SVGMinY !== y || value.SVGWidth !== width || value.SVGHeight !== height) {\n        nextValue = setSVGViewBox(nextValue, x, y, width, height);\n        needUpdate = true;\n      }\n    } else {\n      // if the width and height props are specified\n      const {width: SVGWidth, height: SVGHeight} = props.children.props;\n      if (value.SVGWidth !== SVGWidth || value.SVGHeight !== SVGHeight) {\n        nextValue = setSVGViewBox(nextValue, 0, 0, SVGWidth, SVGHeight);\n        needUpdate = true;\n      }\n    }\n\n    // This block checks the size of the viewer\n    if (\n      prevProps.width !== props.width ||\n      prevProps.height !== props.height\n    ) {\n      nextValue = setViewerSize(nextValue, props.width, props.height);\n      needUpdate = true;\n    }\n\n    // This blocks checks the scale factors\n    if (\n      prevProps.scaleFactorMin !== props.scaleFactorMin ||\n      prevProps.scaleFactorMax !== props.scaleFactorMax\n    ) {\n      nextValue = setZoomLevels(nextValue, props.scaleFactorMin, props.scaleFactorMax);\n      needUpdate = true;\n    }\n\n    if (needUpdate) {\n      this.setValue(nextValue);\n    }\n  }\n\n  componentDidMount() {\n    this.autoPanIsRunning = true;\n    requestAnimationFrame(this.autoPanLoop);\n    this.ViewerDOM.addEventListener('wheel', this.onWheel, false);\n  }\n\n  componentWillUnmount() {\n    this.autoPanIsRunning = false;\n    this.ViewerDOM.removeEventListener('wheel', this.onWheel);\n  }\n\n  /** ReactSVGPanZoom handlers **/\n  getValue() {\n    if (isValueValid(this.props.value)) return this.props.value\n    return this.state.defaultValue\n  }\n\n  getTool() {\n    if (this.props.tool) return this.props.tool\n    return TOOL_NONE\n  }\n\n  setValue(nextValue) {\n    let {onChangeValue, onZoom, onPan} = this.props;\n\n    if (onChangeValue) onChangeValue(nextValue);\n    if (nextValue.lastAction) {\n      if (onZoom && nextValue.lastAction === ACTION_ZOOM) onZoom(nextValue);\n      if (onPan && nextValue.lastAction === ACTION_PAN) onPan(nextValue);\n    }\n  }\n\n  /** ReactSVGPanZoom methods **/\n  pan(SVGDeltaX, SVGDeltaY) {\n    let nextValue = pan(this.getValue(), SVGDeltaX, SVGDeltaY);\n    this.setValue(nextValue);\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    let nextValue = zoom(this.getValue(), SVGPointX, SVGPointY, scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    let nextValue = fitSelection(this.getValue(), selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight);\n    this.setValue(nextValue);\n  }\n\n  fitToViewer(SVGAlignX = ALIGN_LEFT, SVGAlignY = ALIGN_TOP) {\n    let nextValue = fitToViewer(this.getValue(), SVGAlignX, SVGAlignY);\n    this.setValue(nextValue);\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    let nextValue = zoomOnViewerCenter(this.getValue(), scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    let nextValue = setPointOnViewerCenter(this.getValue(), SVGPointX, SVGPointY, zoomLevel);\n    this.setValue(nextValue);\n  }\n\n  reset() {\n    let nextValue = reset(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  openMiniature() {\n    let nextValue = openMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  closeMiniature() {\n    let nextValue = closeMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  /** ReactSVGPanZoom internals **/\n  handleViewerEvent(event) {\n    let {props, ViewerDOM} = this;\n\n    if (!([TOOL_NONE, TOOL_AUTO].indexOf(this.getTool()) >= 0)) return;\n    if (event.target === ViewerDOM) return;\n\n    let eventsHandler = {\n      click: props.onClick,\n      dblclick: props.onDoubleClick,\n\n      mousemove: props.onMouseMove,\n      mouseup: props.onMouseUp,\n      mousedown: props.onMouseDown,\n\n      touchstart: props.onTouchStart,\n      touchmove: props.onTouchMove,\n      touchend: props.onTouchEnd,\n      touchcancel: props.onTouchCancel,\n    };\n\n    let onEventHandler = eventsHandler[event.type];\n    if (!onEventHandler) return;\n\n    onEventHandler(eventFactory(event, props.value, ViewerDOM));\n  }\n\n  autoPanLoop() {\n    let coords = {x: this.state.pointerX, y: this.state.pointerY};\n    let nextValue = onInterval(null, this.ViewerDOM, this.getTool(), this.getValue(), this.props, coords);\n    if (this.getValue() !== nextValue) {\n      this.setValue(nextValue);\n    }\n\n    if (this.autoPanIsRunning) {\n      requestAnimationFrame(this.autoPanLoop);\n    }\n  }\n\n  onWheel(event) {\n    let nextValue = onWheel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n    if (this.getValue() !== nextValue) this.setValue(nextValue);\n  }\n\n  /** React renderer **/\n  render() {\n    let {props, state: {pointerX, pointerY}} = this;\n    let tool = this.getTool();\n    let value = this.getValue();\n    let {customToolbar: CustomToolbar = Toolbar, customMiniature: CustomMiniature = Miniature} = props;\n\n    let panningWithToolAuto = tool === TOOL_AUTO\n      && value.mode === MODE_PANNING\n      && value.startX !== value.endX\n      && value.startY !== value.endY;\n\n    let cursor;\n\n    if (tool === TOOL_PAN)\n      cursor = cursorPolyfill(value.mode === MODE_PANNING ? 'grabbing' : 'grab');\n\n    if (tool === TOOL_ZOOM_IN)\n      cursor = cursorPolyfill('zoom-in');\n\n    if (tool === TOOL_ZOOM_OUT)\n      cursor = cursorPolyfill('zoom-out');\n\n    if (panningWithToolAuto)\n      cursor = cursorPolyfill('grabbing');\n\n    let blockChildEvents = [TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT].indexOf(tool) >= 0;\n    blockChildEvents = blockChildEvents || panningWithToolAuto;\n\n    const touchAction = (this.props.detectPinchGesture || [TOOL_PAN, TOOL_AUTO].indexOf(this.getTool()) !== -1) ? 'none' : undefined\n\n    const style = {display: 'block', cursor, touchAction};\n\n    return (\n      <div\n        style={{position: \"relative\", width: value.viewerWidth, height: value.viewerHeight, ...props.style}}\n        className={this.props.className}>\n        <svg\n          ref={ViewerDOM => this.ViewerDOM = ViewerDOM}\n          width={value.viewerWidth}\n          height={value.viewerHeight}\n          style={style}\n\n          onMouseDown={event => {\n            let nextValue = onMouseDown(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onMouseMove={event => {\n            let {left, top} = this.ViewerDOM.getBoundingClientRect();\n            let x = event.clientX - Math.round(left);\n            let y = event.clientY - Math.round(top);\n\n            let nextValue = onMouseMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props, {x, y});\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.setState({pointerX: x, pointerY: y});\n            this.handleViewerEvent(event);\n          }}\n          onMouseUp={event => {\n            let nextValue = onMouseUp(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onClick={event => {\n            this.handleViewerEvent(event)\n          }}\n          onDoubleClick={event => {\n            let nextValue = onDoubleClick(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onMouseEnter={event => {\n            if (detectTouch()) return;\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n          onMouseLeave={event => {\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n\n          onTouchStart={event => {\n            let nextValue = onTouchStart(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchMove={event => {\n            let nextValue = onTouchMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchEnd={event => {\n            let nextValue = onTouchEnd(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchCancel={event => {\n            let nextValue = onTouchCancel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}>\n\n          <rect\n            fill={props.background}\n            x={0}\n            y={0}\n            width={value.viewerWidth}\n            height={value.viewerHeight}\n            style={{pointerEvents: \"none\"}}\n          />\n\n          <g\n            transform={toSVG(value)}\n            style={blockChildEvents ? {pointerEvents: \"none\"} : {}}>\n            <rect\n              fill={this.props.SVGBackground}\n              style={this.props.SVGStyle}\n              x={value.SVGMinX || 0}\n              y={value.SVGMinY || 0}\n              width={value.SVGWidth}\n              height={value.SVGHeight}/>\n            <g>\n              {props.children.props.children}\n            </g>\n          </g>\n\n          {!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0 && props.detectAutoPan && value.focus) ? null : (\n            <g style={{pointerEvents: \"none\"}}>\n              {!(pointerY <= 20) ? null :\n                <BorderGradient direction={POSITION_TOP} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerWidth - pointerX <= 20) ? null :\n                <BorderGradient direction={POSITION_RIGHT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerHeight - pointerY <= 20) ? null :\n                <BorderGradient direction={POSITION_BOTTOM} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.focus && pointerX <= 20) ? null :\n                <BorderGradient direction={POSITION_LEFT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n            </g>\n          )}\n\n          {!(value.mode === MODE_ZOOMING) ? null :\n            <Selection startX={value.startX} startY={value.startY} endX={value.endX} endY={value.endY}/>\n          }\n        </svg>\n\n        {props.toolbarProps.position === POSITION_NONE ? null :\n          <CustomToolbar\n            {...this.props.toolbarProps}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            tool={tool}\n            onChangeTool={tool => this.props.onChangeTool(tool)}\n          />}\n\n        {props.miniatureProps.position === POSITION_NONE ? null :\n          <CustomMiniature\n            {...this.props.miniatureProps}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            SVGBackground={this.props.SVGBackground}\n          >\n            {props.children.props.children}\n          </CustomMiniature>\n        }\n      </div>\n    );\n  }\n}\n\nReactSVGPanZoom.propTypes = {\n  /**************************************************************************/\n  /*  Viewer configuration                                                  */\n  /**************************************************************************/\n\n  /**\n   *   width of the viewer displayed on screen\n   */\n  width: PropTypes.number.isRequired,\n\n  /**\n  * height of the viewer displayed on screen\n  */\n  height: PropTypes.number.isRequired,\n\n  /**\n  * value of the viewer (current camera view)\n  */\n  value: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.shape({\n      version: PropTypes.oneOf([2]).isRequired,\n      mode: PropTypes.oneOf([MODE_IDLE, MODE_PANNING, MODE_ZOOMING]).isRequired,\n      focus: PropTypes.bool.isRequired,\n      a: PropTypes.number.isRequired,\n      b: PropTypes.number.isRequired,\n      c: PropTypes.number.isRequired,\n      d: PropTypes.number.isRequired,\n      e: PropTypes.number.isRequired,\n      f: PropTypes.number.isRequired,\n      viewerWidth: PropTypes.number.isRequired,\n      viewerHeight: PropTypes.number.isRequired,\n      SVGMinX: PropTypes.number.isRequired,\n      SVGMinY: PropTypes.number.isRequired,\n      SVGWidth: PropTypes.number.isRequired,\n      SVGHeight: PropTypes.number.isRequired,\n      startX: PropTypes.number,\n      startY: PropTypes.number,\n      endX: PropTypes.number,\n      endY: PropTypes.number,\n      miniatureOpen: PropTypes.bool.isRequired,\n    })\n  ]).isRequired,\n\n  /**\n  * handler something changed\n  */\n  onChangeValue: PropTypes.func.isRequired,\n\n  /**\n  * current active tool (TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT)\n  */\n  tool: PropTypes.oneOf([TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT]).isRequired,\n\n  /**\n  * handler tool changed\n  */\n  onChangeTool: PropTypes.func.isRequired,\n\n  /**************************************************************************/\n  /* Customize style                                                        */\n  /**************************************************************************/\n\n  /**\n  * background of the viewer\n  */\n  background: PropTypes.string,\n\n  /**\n  * background of the svg\n  */\n  SVGBackground: PropTypes.string,\n\n  /**\n  * style of the svg\n  */\n  SVGStyle: PropTypes.object,\n\n  /**\n  * CSS style of the Viewer\n  */\n  style: PropTypes.object,\n\n  /**\n  * className of the Viewer\n  */\n  className: PropTypes.string,\n\n  /**************************************************************************/\n  /* Detect events                                                          */\n  /**************************************************************************/\n\n  /**\n  * perform zoom operation on mouse scroll\n  */\n  detectWheel: PropTypes.bool,\n\n  /**\n  * perform PAN if the mouse is on viewer border\n  */\n  detectAutoPan: PropTypes.bool,\n\n  /**\n  * perform zoom operation on pinch gesture\n  */\n  detectPinchGesture: PropTypes.bool,\n\n  /**\n  * handler zoom level changed\n  */\n  onZoom: PropTypes.func,\n\n  /**\n  * handler pan action performed\n  */\n  onPan: PropTypes.func,\n\n  /**\n  * handler click\n  */\n  onClick: PropTypes.func,\n\n  /**\n  * handler double click\n  */\n  onDoubleClick: PropTypes.func,\n\n  /**\n  * handler mouseup\n  */\n  onMouseUp: PropTypes.func,\n\n  /**\n  * handler mousemove\n  */\n  onMouseMove: PropTypes.func,\n\n  /**\n  * handler mousedown\n  */\n  onMouseDown: PropTypes.func,\n\n  /**************************************************************************/\n  /* Some advanced configurations                                           */\n  /**************************************************************************/\n\n  /**\n  * if disabled the user can move the image outside the viewer\n  */\n  preventPanOutside: PropTypes.bool,\n\n  /**\n  * how much scale in or out\n  */\n  scaleFactor: PropTypes.number,\n\n  /**\n  * how much scale in or out on mouse wheel (requires detectWheel enabled)\n  */\n  scaleFactorOnWheel: PropTypes.number,\n\n  /**\n  * maximum amount of scale a user can zoom in to\n  */\n  scaleFactorMax: PropTypes.number,\n\n  /**\n  * minimum amount of a scale a user can zoom out of\n  */\n  scaleFactorMin: PropTypes.number,\n\n  /**\n  * modifier keys //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n  */\n  modifierKeys: PropTypes.array,\n\n  /**\n  * Turn off zoom on double click\n  */\n  disableDoubleClickZoomWithToolAuto: PropTypes.bool,\n\n  /**************************************************************************/\n  /* Miniature configurations                                                 */\n  /**************************************************************************/\n\n  /**\n  * override miniature component\n  */\n  customMiniature: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  /**\n  * miniature props\n  */\n  miniatureProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_RIGHT, POSITION_LEFT]),\n    background: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n\n  /**************************************************************************/\n  /* Toolbar configurations                                                 */\n  /**************************************************************************/\n\n  /**\n  * override toolbar component\n  */\n  customToolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  /**\n  * toolbar props\n  */\n  toolbarProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n    SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n    SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n    activeToolColor: PropTypes.string,\n  }),\n\n  /**************************************************************************/\n  /* Children Check                                                         */\n  /**************************************************************************/\n  /**\n  * accept only one node SVG\n  */\n  children: function (props, propName, componentName) {\n    // Only accept a single child, of the appropriate type\n    //credits: http://www.mattzabriskie.com/blog/react-validating-children\n    let prop = props[propName];\n    let types = ['svg'];\n    if (React.Children.count(prop) !== 1 ||\n      types.indexOf(prop.type) === -1) {\n      return new Error(\n        '`' + componentName + '` ' +\n        'should have a single child of the following types: ' +\n        ' `' + types.join('`, `') + '`.'\n      );\n    }\n    if (\n      (!prop.props.hasOwnProperty('width') || !prop.props.hasOwnProperty('height')) &&\n      (!prop.props.hasOwnProperty('viewBox'))\n    ) {\n      return new Error('SVG should have props `width` and `height` or `viewBox`');\n    }\n\n  }\n};\n\nReactSVGPanZoom.defaultProps = {\n  style: {},\n  background: \"#616264\",\n  SVGBackground: \"#fff\",\n  SVGStyle: {},\n  detectWheel: true,\n  detectAutoPan: true,\n  detectPinchGesture: true,\n  modifierKeys: [\"Alt\", \"Shift\", \"Control\"],\n  preventPanOutside: true,\n  scaleFactor: 1.1,\n  scaleFactorOnWheel: 1.06,\n  disableZoomWithToolAuto: false,\n  onZoom: null,\n  onPan: null,\n  toolbarProps: {},\n  miniatureProps: {},\n};\n","/**\n * Calculate a point transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param  point {Point} Point\n * @returns {Point} Point\n */\nexport function applyToPoint (matrix, point) {\n  return Array.isArray(point)\n    ? [\n        matrix.a * point[0] + matrix.c * point[1] + matrix.e,\n        matrix.b * point[0] + matrix.d * point[1] + matrix.f\n      ]\n    : {\n        x: matrix.a * point.x + matrix.c * point.y + matrix.e,\n        y: matrix.b * point.x + matrix.d * point.y + matrix.f\n      }\n}\n\n/**\n * Calculate an array of points transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param points {Point[]} Array of point\n * @returns {Point[]} Array of point\n */\nexport function applyToPoints (matrix, points) {\n  return points.map(point => applyToPoint(matrix, point))\n}\n","/**\n * Extract an affine matrix from an object that contains a,b,c,d,e,f keys\n * Any value could be a float or a string that contains a float\n * @param object {Object} Object that contains a,b,c,d,e,f keys\n * @return {Matrix} Affine Matrix\n */\nexport function fromObject (object) {\n  return {\n    a: parseFloat(object.a),\n    b: parseFloat(object.b),\n    c: parseFloat(object.c),\n    d: parseFloat(object.d),\n    e: parseFloat(object.e),\n    f: parseFloat(object.f)\n  }\n}\n","/**\n * @ignore\n * @type {RegExp}\n */\nconst matrixRegex = /^matrix\\(\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*\\)$/i\n\n/**\n * Parse a string formatted as matrix(a,b,c,d,e,f)\n * @param string {string} String with an affine matrix\n * @returns {Matrix} Affine Matrix\n *\n * @example\n * > fromString('matrix(1,2,3,4,5,6)')\n * {a: 1, b: 2, c: 3, d: 4, c: 5, e: 6}\n */\nexport function fromString (string) {\n  const parsed = string.match(matrixRegex)\n  if (parsed === null || parsed.length < 7) throw new Error(`'${string}' is not a matrix`)\n  return {\n    a: parseFloat(parsed[1]),\n    b: parseFloat(parsed[2]),\n    c: parseFloat(parsed[3]),\n    d: parseFloat(parsed[4]),\n    e: parseFloat(parsed[5]),\n    f: parseFloat(parsed[6])\n  }\n}\n","/**\n * Identity matrix\n * @returns {Matrix} Affine Matrix\n */\nexport function identity () {\n  return {\n    a: 1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: 1,\n    f: 0\n  }\n}\n","/**\n * Calculate a matrix that is the inverse of the provided matrix\n * @param matrix {Matrix} Affine Matrix\n * @returns {Matrix} Inverted Affine Matrix\n */\nexport function inverse (matrix) {\n  // http://www.wolframalpha.com/input/?i=Inverse+%5B%7B%7Ba,c,e%7D,%7Bb,d,f%7D,%7B0,0,1%7D%7D%5D\n\n  const { a, b, c, d, e, f } = matrix\n\n  const denom = a * d - b * c\n\n  return {\n    a: d / denom,\n    b: b / -denom,\n    c: c / -denom,\n    d: a / denom,\n    e: (d * e - c * f) / -denom,\n    f: (b * e - a * f) / denom\n  }\n}\n","export function isUndefined (val) {\n  return typeof val === 'undefined'\n}\n\nexport function isNumeric (n) {\n  return typeof n === 'number' &&\n    !Number.isNaN(n) &&\n    Number.isFinite(n)\n}\n\nexport function isObject (obj) {\n  return typeof obj === 'object' &&\n    obj !== null &&\n    !Array.isArray(obj)\n}\n\nexport function matchesShape (obj, keys) {\n  return keys.every(key => key in obj)\n}\n","import { isNumeric, isObject } from './utils'\n\n/**\n * Check if the object contain an affine matrix\n * @param object {Object} Generic Plain Object\n * @return {boolean} True if is an object and contains an affine matrix\n */\n\nexport function isAffineMatrix (object) {\n  return isObject(object) &&\n    'a' in object &&\n    isNumeric(object.a) &&\n    'b' in object &&\n    isNumeric(object.b) &&\n    'c' in object &&\n    isNumeric(object.c) &&\n    'd' in object &&\n    isNumeric(object.d) &&\n    'e' in object &&\n    isNumeric(object.e) &&\n    'f' in object &&\n    isNumeric(object.f)\n}\n","/**\n * Calculate a translate matrix\n * @param tx {number} Translation on axis x\n * @param [ty = 0] {number} Translation on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function translate (tx, ty = 0) {\n  return {\n    a: 1,\n    c: 0,\n    e: tx,\n    b: 0,\n    d: 1,\n    f: ty\n  }\n}\n","/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function transform (...matrices) {\n  matrices = Array.isArray(matrices[0]) ? matrices[0] : matrices\n\n  const multiply = (m1, m2) => {\n    return {\n      a: m1.a * m2.a + m1.c * m2.b,\n      c: m1.a * m2.c + m1.c * m2.d,\n      e: m1.a * m2.e + m1.c * m2.f + m1.e,\n      b: m1.b * m2.a + m1.d * m2.b,\n      d: m1.b * m2.c + m1.d * m2.d,\n      f: m1.b * m2.e + m1.d * m2.f + m1.f\n    }\n  }\n\n  switch (matrices.length) {\n    case 0:\n      throw new Error('no matrices provided')\n\n    case 1:\n      return matrices[0]\n\n    case 2:\n      return multiply(matrices[0], matrices[1])\n\n    default: {\n      const [m1, m2, ...rest] = matrices\n      const m = multiply(m1, m2)\n      return transform(m, ...rest)\n    }\n  }\n}\n\n/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function compose (...matrices) {\n  return transform(...matrices)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\nconst { cos, sin, PI } = Math\n/**\n * Calculate a rotation matrix\n * @param angle {number} Angle in radians\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotate (angle, cx, cy) {\n  const cosAngle = cos(angle)\n  const sinAngle = sin(angle)\n  const rotationMatrix = {\n    a: cosAngle,\n    c: -sinAngle,\n    e: 0,\n    b: sinAngle,\n    d: cosAngle,\n    f: 0\n  }\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return rotationMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    rotationMatrix,\n    translate(-cx, -cy)\n  ])\n}\n\n/**\n * Calculate a rotation matrix with a DEG angle\n * @param angle {number} Angle in degree\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotateDEG (angle, cx = undefined, cy = undefined) {\n  return rotate(angle * PI / 180, cx, cy)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\n/**\n * Calculate a scaling matrix\n * @param sx {number} Scaling on axis x\n * @param [sy = sx] {number} Scaling on axis y (default sx)\n * @param [cx] {number} If (cx,cy) are supplied the scaling is about this point\n * @param [cy] {number} If (cx,cy) are supplied the scaling is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function scale (sx, sy = undefined, cx = undefined, cy = undefined) {\n  if (isUndefined(sy)) sy = sx\n\n  const scaleMatrix = {\n    a: sx,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: sy,\n    f: 0\n  }\n\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return scaleMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    scaleMatrix,\n    translate(-cx, -cy)\n  ])\n}\n","/**\n * Calculate a shear matrix\n * @param shx {number} Shear on axis x\n * @param shy {number} Shear on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function shear (shx, shy) {\n  return {\n    a: 1,\n    c: shx,\n    e: 0,\n    b: shy,\n    d: 1,\n    f: 0\n  }\n}\n","// https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skew\nconst { tan } = Math\n\n/**\n * Calculate a skew matrix\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skew (ax, ay) {\n  return {\n    a: 1,\n    c: tan(ax),\n    e: 0,\n    b: tan(ay),\n    d: 1,\n    f: 0\n  }\n}\n\n/**\n * Calculate a skew matrix using DEG angles\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skewDEG (ax, ay) {\n  return skew(ax * Math.PI / 180, ay * Math.PI / 180)\n}\n","/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toCSS (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toSVG (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toString (matrix) {\n  return `matrix(${matrix.a},${matrix.b},${matrix.c},${matrix.d},${matrix.e},${matrix.f})`\n}\n","/**\n * Rounds all elements of the given matrix using the given precision\n * @param matrix {Matrix} An affine matrix to round\n * @param [precision] {number} A precision to use for Math.round. Defaults to 10000000000 (meaning which rounds to the 10th digit after the comma).\n * @returns {Matrix} The rounded Affine Matrix\n */\nexport function smoothMatrix (matrix, precision = 10000000000) {\n  return {\n    a: Math.round(matrix.a * precision) / precision,\n    b: Math.round(matrix.b * precision) / precision,\n    c: Math.round(matrix.c * precision) / precision,\n    d: Math.round(matrix.d * precision) / precision,\n    e: Math.round(matrix.e * precision) / precision,\n    f: Math.round(matrix.f * precision) / precision\n  }\n}\n","import { inverse } from './inverse'\nimport { transform } from './transform'\nimport { smoothMatrix } from './smoothMatrix'\n\n/**\n * Returns a matrix that transforms a triangle t1 into another triangle t2, or throws an exception if it is impossible.\n * @param t1 {Point[]} Array of points containing the three points for the first triangle\n * @param t2 {Point[]} Array of points containing the three points for the second triangle\n * @returns {Matrix} Matrix which transforms t1 to t2\n * @throws Exception if the matrix becomes not invertible\n */\nexport function fromTriangles (t1, t2) {\n  // point p = first point of the triangle\n  const px1 = t1[0].x != null ? t1[0].x : t1[0][0]\n  const py1 = t1[0].y != null ? t1[0].y : t1[0][1]\n  const px2 = t2[0].x != null ? t2[0].x : t2[0][0]\n  const py2 = t2[0].y != null ? t2[0].y : t2[0][1]\n\n  // point q = second point of the triangle\n  const qx1 = t1[1].x != null ? t1[1].x : t1[1][0]\n  const qy1 = t1[1].y != null ? t1[1].y : t1[1][1]\n  const qx2 = t2[1].x != null ? t2[1].x : t2[1][0]\n  const qy2 = t2[1].y != null ? t2[1].y : t2[1][1]\n\n  // point r = third point of the triangle\n  const rx1 = t1[2].x != null ? t1[2].x : t1[2][0]\n  const ry1 = t1[2].y != null ? t1[2].y : t1[2][1]\n  const rx2 = t2[2].x != null ? t2[2].x : t2[2][0]\n  const ry2 = t2[2].y != null ? t2[2].y : t2[2][1]\n\n  const r1 = {\n    a: px1 - rx1,\n    b: py1 - ry1,\n    c: qx1 - rx1,\n    d: qy1 - ry1,\n    e: rx1,\n    f: ry1\n  }\n  const r2 = {\n    a: px2 - rx2,\n    b: py2 - ry2,\n    c: qx2 - rx2,\n    d: qy2 - ry2,\n    e: rx2,\n    f: ry2\n  }\n\n  const inverseR1 = inverse(r1)\n  const affineMatrix = transform([r2, inverseR1])\n\n  // round the matrix elements to smooth the finite inversion\n  return smoothMatrix(affineMatrix)\n}\n","import { fromObject } from './fromObject'\nimport { translate } from './translate'\nimport { scale } from './scale'\nimport { rotateDEG } from './rotate'\nimport { skewDEG } from './skew'\nimport { shear } from './shear'\n\n/**\n * Converts array of matrix descriptor to array of matrix\n * @param definitionOrArrayOfDefinition {Object[]} Array of object describing the matrix\n * @returns {Matrix[]} Array of matrix\n *\n * @example\n * > fromDefinition([\n *  { type: 'matrix', a:1, b:2, c:3, d:4, e:5, f:6 },\n *  { type: 'translate', tx: 10, ty: 20 },\n *  { type: 'scale', sx: 2, sy: 4 },\n *  { type: 'rotate', angle: 90, cx: 50, cy: 25 },\n *  { type: 'skewX', angle: 45 },\n *  { type: 'skewY',  angle: 45 },\n *  { type: 'shear', shx: 10, shy: 20}\n * ])\n *\n * [\n *  { a: 1, b: 2, c: 3, d: 4, e: 5, f: 6 },\n *  { a: 1, c: 0, e: 10, b: 0, d: 1, f: 20 },\n *  { a: 2, c: 0, e: 0, b: 0, d: 4, f: 0 },\n *  { a: 6.123, c: -1, e: 0, b: 1, d: 6.123, f: 0 },\n *  { a: 1, c: 0.99.., e: 0, b: 0, d: 1, f: 0 },\n *  { a: 1, c: 0, e: 0, b: 0.99, d: 1, f: 0 },\n *  { a: 1, c: 10, e: 0, b: 20, d: 1, f: 0 }\n * ]\n **/\nexport function fromDefinition (definitionOrArrayOfDefinition) {\n  return Array.isArray(definitionOrArrayOfDefinition)\n    ? definitionOrArrayOfDefinition.map(mapper)\n    : mapper(definitionOrArrayOfDefinition)\n\n  function mapper (descriptor) {\n    switch (descriptor.type) {\n      case 'matrix':\n        if ('a' in descriptor &&\n          'b' in descriptor &&\n          'c' in descriptor &&\n          'd' in descriptor &&\n          'e' in descriptor &&\n          'f' in descriptor\n        ) {\n          return fromObject(descriptor)\n        } else {\n          throw new Error('MISSING_MANDATORY_PARAM')\n        }\n\n      case 'translate':\n        if (!('tx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('ty' in descriptor) return translate(descriptor.tx, descriptor.ty)\n\n        return translate(descriptor.tx)\n\n      case 'scale':\n        if (!('sx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('sy' in descriptor) return scale(descriptor.sx, descriptor.sy)\n\n        return scale(descriptor.sx)\n\n      case 'rotate':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('cx' in descriptor && 'cy' in descriptor) {\n          return rotateDEG(descriptor.angle, descriptor.cx, descriptor.cy)\n        }\n        return rotateDEG(descriptor.angle)\n\n      case 'skewX':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(descriptor.angle, 0)\n\n      case 'skewY':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(0, descriptor.angle)\n\n      case 'shear':\n        if (!('shx' in descriptor && 'shy' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return shear(descriptor.shx, descriptor.shy)\n\n      default:\n        throw new Error('UNSUPPORTED_DESCRIPTOR')\n    }\n  }\n}\n","// Generated by Peggy 3.0.2.\n//\n// https://peggyjs.org/\n\nfunction peg$subclass(child, parent) {\n  function C() { this.constructor = child; }\n  C.prototype = parent.prototype;\n  child.prototype = new C();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  var self = Error.call(this, message);\n  // istanbul ignore next Check is a necessary evil to support older environments\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(self, peg$SyntaxError.prototype);\n  }\n  self.expected = expected;\n  self.found = found;\n  self.location = location;\n  self.name = \"SyntaxError\";\n  return self;\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\nfunction peg$padEnd(str, targetLength, padString) {\n  padString = padString || \" \";\n  if (str.length > targetLength) { return str; }\n  targetLength -= str.length;\n  padString += padString.repeat(targetLength);\n  return str + padString.slice(0, targetLength);\n}\n\npeg$SyntaxError.prototype.format = function(sources) {\n  var str = \"Error: \" + this.message;\n  if (this.location) {\n    var src = null;\n    var k;\n    for (k = 0; k < sources.length; k++) {\n      if (sources[k].source === this.location.source) {\n        src = sources[k].text.split(/\\r\\n|\\n|\\r/g);\n        break;\n      }\n    }\n    var s = this.location.start;\n    var offset_s = (this.location.source && (typeof this.location.source.offset === \"function\"))\n      ? this.location.source.offset(s)\n      : s;\n    var loc = this.location.source + \":\" + offset_s.line + \":\" + offset_s.column;\n    if (src) {\n      var e = this.location.end;\n      var filler = peg$padEnd(\"\", offset_s.line.toString().length, ' ');\n      var line = src[s.line - 1];\n      var last = s.line === e.line ? e.column : line.length + 1;\n      var hatLen = (last - s.column) || 1;\n      str += \"\\n --> \" + loc + \"\\n\"\n          + filler + \" |\\n\"\n          + offset_s.line + \" | \" + line + \"\\n\"\n          + filler + \" | \" + peg$padEnd(\"\", s.column - 1, ' ')\n          + peg$padEnd(\"\", hatLen, \"^\");\n    } else {\n      str += \"\\n at \" + loc;\n    }\n  }\n  return str;\n};\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n    literal: function(expectation) {\n      return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n    },\n\n    class: function(expectation) {\n      var escapedParts = expectation.parts.map(function(part) {\n        return Array.isArray(part)\n          ? classEscape(part[0]) + \"-\" + classEscape(part[1])\n          : classEscape(part);\n      });\n\n      return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts.join(\"\") + \"]\";\n    },\n\n    any: function() {\n      return \"any character\";\n    },\n\n    end: function() {\n      return \"end of input\";\n    },\n\n    other: function(expectation) {\n      return expectation.description;\n    }\n  };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\"/g,  \"\\\\\\\"\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\\]/g, \"\\\\]\")\n      .replace(/\\^/g, \"\\\\^\")\n      .replace(/-/g,  \"\\\\-\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = expected.map(describeExpectation);\n    var i, j;\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== undefined ? options : {};\n\n  var peg$FAILED = {};\n  var peg$source = options.grammarSource;\n\n  var peg$startRuleFunctions = { transformList: peg$parsetransformList };\n  var peg$startRuleFunction = peg$parsetransformList;\n\n  var peg$c0 = \"matrix\";\n  var peg$c1 = \"(\";\n  var peg$c2 = \")\";\n  var peg$c3 = \"translate\";\n  var peg$c4 = \"scale\";\n  var peg$c5 = \"rotate\";\n  var peg$c6 = \"skewX\";\n  var peg$c7 = \"skewY\";\n  var peg$c8 = \",\";\n  var peg$c9 = \".\";\n\n  var peg$r0 = /^[eE]/;\n  var peg$r1 = /^[+\\-]/;\n  var peg$r2 = /^[0-9]/;\n  var peg$r3 = /^[ \\t\\r\\n]/;\n\n  var peg$e0 = peg$literalExpectation(\"matrix\", false);\n  var peg$e1 = peg$literalExpectation(\"(\", false);\n  var peg$e2 = peg$literalExpectation(\")\", false);\n  var peg$e3 = peg$literalExpectation(\"translate\", false);\n  var peg$e4 = peg$literalExpectation(\"scale\", false);\n  var peg$e5 = peg$literalExpectation(\"rotate\", false);\n  var peg$e6 = peg$literalExpectation(\"skewX\", false);\n  var peg$e7 = peg$literalExpectation(\"skewY\", false);\n  var peg$e8 = peg$literalExpectation(\",\", false);\n  var peg$e9 = peg$otherExpectation(\"fractionalConstant\");\n  var peg$e10 = peg$literalExpectation(\".\", false);\n  var peg$e11 = peg$classExpectation([\"e\", \"E\"], false, false);\n  var peg$e12 = peg$classExpectation([\"+\", \"-\"], false, false);\n  var peg$e13 = peg$classExpectation([[\"0\", \"9\"]], false, false);\n  var peg$e14 = peg$classExpectation([\" \", \"\\t\", \"\\r\", \"\\n\"], false, false);\n\n  var peg$f0 = function(ts) { return ts; };\n  var peg$f1 = function(t, ts) { return t.concat(ts) };\n  var peg$f2 = function(a, b, c, d, e, f) {\n      return [{type: 'matrix', a: a, b: b, c: c, d: d, e: e, f: f}];\n    };\n  var peg$f3 = function(tx, ty) {\n      var t = {type: 'translate', tx: tx};\n      if (ty) t.ty = ty;\n      return [t];\n    };\n  var peg$f4 = function(sx, sy) {\n      var s = {type:'scale', sx: sx};\n      if (sy) s.sy = sy;\n      return [s];\n    };\n  var peg$f5 = function(angle, c) {\n      var r = {type:'rotate', angle: angle};\n      if (c) {\n        r.cx = c[0];\n        r.cy = c[1];\n      }\n      return [r];\n    };\n  var peg$f6 = function(angle) {\n      return [{type: 'skewX', angle: angle}];\n    };\n  var peg$f7 = function(angle) {\n      return [{type: 'skewY', angle: angle}];\n    };\n  var peg$f8 = function(f) { return parseFloat(f.join(\"\")); };\n  var peg$f9 = function(i) { return parseInt(i.join(\"\")); };\n  var peg$f10 = function(n) { return n; };\n  var peg$f11 = function(n1, n2) { return [n1, n2]; };\n  var peg$f12 = function(ds) { return ds.join(\"\"); };\n  var peg$f13 = function(f, e) { return [f, e || null].join(\"\")};\n  var peg$f14 = function(d, e) { return [d, e].join(\"\")};\n  var peg$f15 = function(d1, d2) { return [d1 ? d1.join(\"\") : null, \".\", d2.join(\"\")].join(\"\"); };\n  var peg$f16 = function(d) { return d.join(\"\"); };\n  var peg$f17 = function(s, d) { return ['e', s, d.join(\"\")].join(\"\") };\n  var peg$currPos = 0;\n  var peg$savedPos = 0;\n  var peg$posDetailsCache = [{ line: 1, column: 1 }];\n  var peg$maxFailPos = 0;\n  var peg$maxFailExpected = [];\n  var peg$silentFails = 0;\n\n  var peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function offset() {\n    return peg$savedPos;\n  }\n\n  function range() {\n    return {\n      source: peg$source,\n      start: peg$savedPos,\n      end: peg$currPos\n    };\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos];\n    var p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line: details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos, offset) {\n    var startPosDetails = peg$computePosDetails(startPos);\n    var endPosDetails = peg$computePosDetails(endPos);\n\n    var res = {\n      source: peg$source,\n      start: {\n        offset: startPos,\n        line: startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line: endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n    if (offset && peg$source && (typeof peg$source.offset === \"function\")) {\n      res.start = peg$source.offset(res.start);\n      res.end = peg$source.offset(res.end);\n    }\n    return res;\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parsetransformList() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      s2 = peg$parsewsp();\n    }\n    s2 = peg$parsetransforms();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = [];\n    s4 = peg$parsewsp();\n    while (s4 !== peg$FAILED) {\n      s3.push(s4);\n      s4 = peg$parsewsp();\n    }\n    peg$savedPos = s0;\n    s0 = peg$f0(s2);\n\n    return s0;\n  }\n\n  function peg$parsetransforms() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsetransform();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsecommaWsp();\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsecommaWsp();\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsetransforms();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f1(s1, s3);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetransform();\n    }\n\n    return s0;\n  }\n\n  function peg$parsetransform() {\n    var s0;\n\n    s0 = peg$parsematrix();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetranslate();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsescale();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parserotate();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseskewX();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseskewY();\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsematrix() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16, s17;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 6) === peg$c0) {\n      s1 = peg$c0;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e0); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWsp();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsenumber();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parsecommaWsp();\n              if (s8 !== peg$FAILED) {\n                s9 = peg$parsenumber();\n                if (s9 !== peg$FAILED) {\n                  s10 = peg$parsecommaWsp();\n                  if (s10 !== peg$FAILED) {\n                    s11 = peg$parsenumber();\n                    if (s11 !== peg$FAILED) {\n                      s12 = peg$parsecommaWsp();\n                      if (s12 !== peg$FAILED) {\n                        s13 = peg$parsenumber();\n                        if (s13 !== peg$FAILED) {\n                          s14 = peg$parsecommaWsp();\n                          if (s14 !== peg$FAILED) {\n                            s15 = peg$parsenumber();\n                            if (s15 !== peg$FAILED) {\n                              s16 = [];\n                              s17 = peg$parsewsp();\n                              while (s17 !== peg$FAILED) {\n                                s16.push(s17);\n                                s17 = peg$parsewsp();\n                              }\n                              if (input.charCodeAt(peg$currPos) === 41) {\n                                s17 = peg$c2;\n                                peg$currPos++;\n                              } else {\n                                s17 = peg$FAILED;\n                                if (peg$silentFails === 0) { peg$fail(peg$e2); }\n                              }\n                              if (s17 !== peg$FAILED) {\n                                peg$savedPos = s0;\n                                s0 = peg$f2(s5, s7, s9, s11, s13, s15);\n                              } else {\n                                peg$currPos = s0;\n                                s0 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetranslate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 9) === peg$c3) {\n      s1 = peg$c3;\n      peg$currPos += 9;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e3); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f3(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsescale() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c4) {\n      s1 = peg$c4;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e4); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f4(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parserotate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 6) === peg$c5) {\n      s1 = peg$c5;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e5); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspTwoNumbers();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f5(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewX() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c6) {\n      s1 = peg$c6;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e6); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f6(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewY() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c7) {\n      s1 = peg$c7;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e7); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f7(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenumber() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsesign();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = peg$parsefloatingPointConstant();\n    if (s3 !== peg$FAILED) {\n      s2 = [s2, s3];\n      s1 = s2;\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f8(s1);\n    }\n    s0 = s1;\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parseintegerConstant();\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$f9(s1);\n      }\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspNumber() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f10(s2);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspTwoNumbers() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecommaWsp();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsenumber();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f11(s2, s4);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWsp() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsewsp();\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = [];\n      s4 = peg$parsewsp();\n      while (s4 !== peg$FAILED) {\n        s3.push(s4);\n        s4 = peg$parsewsp();\n      }\n      s1 = [s1, s2, s3];\n      s0 = s1;\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsecomma();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsewsp();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsewsp();\n        }\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsecomma() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 44) {\n      s0 = peg$c8;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e8); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseintegerConstant() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f12(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsefloatingPointConstant() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsefractionalConstant();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseexponent();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      peg$savedPos = s0;\n      s0 = peg$f13(s1, s2);\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseexponent();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f14(s1, s2);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsefractionalConstant() {\n    var s0, s1, s2, s3;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (input.charCodeAt(peg$currPos) === 46) {\n      s2 = peg$c9;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e10); }\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f15(s1, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s2 = peg$c9;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$e10); }\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f16(s1);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e9); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseexponent() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$r0.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e11); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f17(s2, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesign() {\n    var s0;\n\n    if (peg$r1.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e12); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigitSequence() {\n    var s0, s1;\n\n    s0 = [];\n    s1 = peg$parsedigit();\n    if (s1 !== peg$FAILED) {\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        s1 = peg$parsedigit();\n      }\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigit() {\n    var s0;\n\n    if (peg$r2.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e13); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsewsp() {\n    var s0;\n\n    if (peg$r3.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e14); }\n    }\n\n    return s0;\n  }\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nexport {\n  peg$SyntaxError as SyntaxError,\n\n  peg$parse as parse\n};\n","import { parse } from './fromTransformAttribute.autogenerated'\n\n/**\n * Parser for SVG Trasform Attribute http://www.w3.org/TR/SVG/coords.html#TransformAttribute <br/>\n * Warning: This should be considered BETA until it is released a stable version of pegjs.\n * @param transformString {string} Transform string as defined by w3 Consortium\n * @returns {MatrixDescriptor[]} Array of MatrixDescriptor\n *\n * @example\n * > fromTransformAttribute('translate(-10,-10) scale(2,2) translate(10,10)')\n * [\n *  { type: 'translate', tx: -10, ty: -10},\n *  { type: 'scale', sx: 2, sy: 2 },\n *  { type: 'translate', tx: 10, ty: 10}\n * ]\n *\n * > compose(fromDefinition(fromTransformAttribute('translate(-10, -10) scale(10, 10)')))\n * { a: 10, c: 0, e: -10, b: 0, d: 10, f: -10 }\n */\nexport function fromTransformAttribute (transformString) {\n  return parse(transformString)\n}\n","import { scale } from './scale'\nimport { compose } from './transform'\n/**\n * Decompose a matrix into translation, scaling and rotation components, optionally\n * take horizontal and vertical flip in to consideration.\n * Note this function decomposes a matrix in rotation -> scaling -> translation order. I.e. for\n * certain translation T {tx, ty}, rotation R and scaling S { sx, sy }, it's only true for:\n *  decomposeTSR(compose(T, S, R)) === { translate: T, rotation: R, scale: S }\n * composing in a different order may yield a different decomposition result.\n * @param matrix {Matrix} Affine Matrix\n * @param  flipX {boolean} Whether the matrix contains vertical flip, i.e. mirrors on x-axis\n * @param  flipY {boolean} Whether the matrix contains horizontal flip, i.e. mirrors on y-axis\n * @returns {Transform} A transform object consisted by its translation, scaling\n * and rotation components.\n */\nexport function decomposeTSR (matrix, flipX = false, flipY = false) {\n  // Remove flip from the matrix first - flip could be incorrectly interpreted as\n  // rotations (e.g. flipX + flipY = rotate by 180 degrees).\n  // Note flipX is a vertical flip, and flipY is a horizontal flip.\n  if (flipX) {\n    if (flipY) {\n      matrix = compose(matrix, scale(-1, -1))\n    } else {\n      matrix = compose(matrix, scale(1, -1))\n    }\n  } else if (flipY) {\n    matrix = compose(matrix, scale(-1, 1))\n  }\n\n  const a = matrix.a; const b = matrix.b\n  const c = matrix.c; const d = matrix.d\n  let scaleX, scaleY, rotation\n\n  if (a !== 0 || c !== 0) {\n    const hypotAc = Math.hypot(a, c)\n    scaleX = hypotAc\n    scaleY = (a * d - b * c) / hypotAc\n    const acos = Math.acos(a / hypotAc)\n    rotation = c > 0 ? -acos : acos\n  } else if (b !== 0 || d !== 0) {\n    const hypotBd = Math.hypot(b, d)\n    scaleX = (a * d - b * c) / hypotBd\n    scaleY = hypotBd\n    const acos = Math.acos(b / hypotBd)\n    rotation = Math.PI / 2 + (d > 0 ? -acos : acos)\n  } else {\n    scaleX = 0\n    scaleY = 0\n    rotation = 0\n  }\n\n  // put the flip factors back\n  if (flipY) {\n    scaleX = -scaleX\n  }\n\n  if (flipX) {\n    scaleY = -scaleY\n  }\n\n  return {\n    translate: { tx: matrix.e, ty: matrix.f },\n    scale: { sx: scaleX, sy: scaleY },\n    rotation: { angle: rotation }\n  }\n}\n","/**\n * Tranformation matrix that mirrors on x-axis\n * @returns {Matrix} Affine Matrix\n */\nexport function flipX () {\n  return {\n    a: 1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: -1,\n    f: 0\n  }\n}\n\n/**\n * Tranformation matrix that mirrors on y-axis\n * @returns {Matrix} Affine Matrix\n */\nexport function flipY () {\n  return {\n    a: -1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: 1,\n    f: 0\n  }\n}\n\n/**\n * Tranformation matrix that mirrors on origin\n * @returns {Matrix} Affine Matrix\n */\nexport function flipOrigin () {\n  return {\n    a: -1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: -1,\n    f: 0\n  }\n}\n","import { translate } from './translate'\nimport { applyToPoint } from './applyToPoint'\nimport { rotate } from './rotate'\nimport { scale } from './scale'\nimport { compose } from './transform'\n\n// https://manivannan-ai.medium.com/find-the-angle-between-three-points-from-2d-using-python-348c513e2cd\n\n/**\n * Calculate a transformation matrix from a point that starts from A to A'\n * This approach can be associated to a pointer that moves on a device\n * @param {Point} startingPoint - Starting point (A)\n * @param {Point} endingPoint - Ending point (A')\n */\nexport function fromOneMovingPoint (startingPoint, endingPoint) {\n  const tx = endingPoint.x - startingPoint.x\n  const ty = endingPoint.y - startingPoint.y\n\n  return translate(tx, ty)\n}\n\n/**\n * Calculate a transformation matrix about two points that move from positions A and B to A' and B'\n * This approach can be associated to a two finger gesture on a touch device\n * @param {Point} startingPoint1 - Starting Point (A)\n * @param {Point} startingPoint2 - Starting Point (B)\n * @param {Point} endingPoint1 - Ending point (A')\n * @param {Point} endingPoint2 - Ending Point (B')\n */\nexport function fromTwoMovingPoints (startingPoint1, startingPoint2, endingPoint1, endingPoint2) {\n  // finds translation\n  const translationMatrix = fromOneMovingPoint(startingPoint1, endingPoint1)\n\n  const pointA = applyToPoint(translationMatrix, startingPoint2) // I have to translate this point\n  const center = endingPoint1\n  const pointB = endingPoint2\n\n  // finds rotation matrix\n  const angle = Math.atan2(pointB.y - center.y, pointB.x - center.x) - Math.atan2(pointA.y - center.y, pointA.x - center.x)\n  const rotationMatrix = rotate(angle, center.x, center.y)\n\n  // finds scale matrix\n  const d1 = Math.sqrt(Math.pow(pointA.x - center.x, 2) + Math.pow(pointA.y - center.y, 2))\n  const d2 = Math.sqrt(Math.pow(pointB.x - center.x, 2) + Math.pow(pointB.y - center.y, 2))\n  const scalingLevel = d2 / d1\n  const scalingMatrix = scale(scalingLevel, scalingLevel, center.x, center.y)\n\n  return compose([\n    translationMatrix,\n    scalingMatrix,\n    rotationMatrix\n  ])\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__993__;","module.exports = __WEBPACK_EXTERNAL_MODULE__442__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(497);\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__442__","__WEBPACK_EXTERNAL_MODULE__993__","originalEvent","value","SVGViewer","eventType","type","ViewerMouseEvent","ViewerTouchEvent","Error","_viewerMouseEvent","_interopRequireDefault","_viewerTouchEvent","e","__esModule","default","_common","constructor","this","scaleFactor","_cacheDecomposedValue","decompose","translationX","translationY","preventDefault","stopPropagation","_viewerEvent","_interactions","ViewerEvent","point","_cachePoint","event","mousePosition","getMousePosition","getSVGPoint","x","y","ownKeys","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","i","Symbol","toPrimitive","call","TypeError","String","_toPrimitive","_toPropertyKey","configurable","writable","points","_cachePoints","touchesToPoints","touches","changedPoints","_cacheChangedPoints","changedTouches","touch","rect","getBoundingClientRect","clientX","Math","round","left","clientY","top","identifier","matrix","fromObject","a","f","viewerWidth","viewerHeight","SVGMinX","SVGMinY","SVGWidth","SVGHeight","scaleFactorMin","undefined","scaleFactorMax","set","identity","version","VERSION","mode","DEFAULT_MODE","focus","pinchPointDistance","prePinchMode","startX","startY","endX","endY","miniatureOpen","lastAction","viewerX","viewerY","inverseMatrix","inverse","applyToPoint","hasOwnProperty","MODE_IDLE","SVGPointX","SVGPointY","zoomLevel","transform","translate","scale","_constants","_transformationMatrix","patch","action","assign","freeze","ViewerDOM","tool","props","resetMode","MODE_PANNING","MODE_ZOOMING","indexOf","nextValue","detectPinchGesture","hasPinchPointDistance","shouldResetPinchPointDistance","onSingleTouch","onMouseUp","isMultiTouch","onMultiTouch","onMouseMove","onMouseDown","_zoom","nextValueFn","touchPosition","getTouchPosition","TOOL_ZOOM_OUT","TOOL_ZOOM_IN","TOOL_AUTO","TOOL_PAN","x1","y1","x2","y2","sqrt","pow","previousPointDistance","svgPoint","distanceFactor","isZoomLevelGoingOutOfBounds","cancelable","limitZoomLevel","coords","disableDoubleClickZoomWithToolAuto","modifierKeys","SVGPoint","modifierKeysReducer","current","modifierKey","getModifierState","reduce","zoom","TOOL_NONE","detectAutoPan","autoPanIfNeeded","startZooming","startPanning","setFocus","forceExit","buttons","stopZooming","updateZooming","stopPanning","updatePanning","preventPanOutside","detectWheel","delta","max","min","deltaY","mapRange","scaleFactorOnWheel","_pan","_mapRange","deltaX","d","pan","ACTION_PAN","panLimit","start","end","SVGDeltaX","SVGDeltaY","applyToPoints","moveX","moveY","SVGAlignX","ALIGN_LEFT","SVGAlignY","ALIGN_TOP","scaleX","scaleY","scaleLevel","scaleMatrix","translateX","translateY","remainderY","ALIGN_CENTER","ALIGN_BOTTOM","ALIGN_COVER","remainderX","ALIGN_RIGHT","translationMatrix","ACTION_ZOOM","abs","box","calculateBox","fitSelection","width","height","_calculateBox","curScaleFactor","lessThanScaleFactorMin","moreThanScaleFactorMax","selectionSVGPointX","selectionSVGPointY","selectionWidth","selectionHeight","_viewer","_uncontrolledViewer","_toolbar","_toolbarButton","_iconCursor","_iconPan","_iconFit","_iconZoomIn","_iconZoomOut","_miniature","_miniature2","key","prototype","_exportNames","get","isNullOrUndefined","tipControlledComponent","miniaturePosition","miniatureBackground","miniatureWidth","miniatureHeight","tipDeprecatedMiniatureProps","toolbarPosition","tipDeprecateToolbarProps","_is","doc_v2_to_v3","github_base","console","error","_react","_propTypes","IconArrow","_ref","open","position","POSITION_LEFT","POSITION_RIGHT","createElement","stroke","fill","propTypes","PropTypes","bool","isRequired","oneOf","_RandomUID","MiniatureMask","zoomToFit","_uid","maskID","id","style","mask","opacity","number","RandomUID","_iconArrow","MiniatureToggleButton","onChangeValue","display","bottom","background","border","padding","outline","color","closeMiniature","openMiniature","onClick","object","func","_miniatureToggleButton","_miniatureMask","DEFAULT_BACKGROUND","Miniature","children","SVGBackground","ratio","overflow","transition","centerTranslation","role","pointerEvents","string","ToolbarButton","React","Component","super","state","hover","change","setState","render","margin","POSITION_TOP","POSITION_BOTTOM","active","activeColor","cursor","onMouseEnter","onMouseLeave","onTouchStart","onTouchEnd","onTouchCancel","title","name","DEFAULT_ACTIVE_TOOL_COLOR","Toolbar","onChangeTool","activeToolColor","handleChangeTool","isHorizontal","right","backgroundColor","borderRadius","flexDirection","fitToViewer","handleFit","prefixID","BorderGradient","direction","gradientID","spreadMethod","offset","stopColor","stopOpacity","needPrefix","isFirefox","isWebkit","userAgent","navigator","toLowerCase","window","maxTouchPoints","Selection","strokeOpacity","fillOpacity","_excluded","_extends","bind","n","UncontrolledReactSVGPanZoom","defaultValue","defaultTool","Viewer","changeTool","changeValue","zoomOnViewerCenter","setPointOnViewerCenter","reset","_this$props","includes","_objectWithoutPropertiesLoose","s","propertyIsEnumerable","_objectWithoutProperties","ref","WrappedComponent","uid","nextUID","displayName","getDisplayName","_getDisplayName","sourceStart","sourceEnd","targetStart","targetEnd","viewBoxString","split","Boolean","map","Number","_eventFactory","_parseViewBox","_interactionsTouch","_cursorPolyfill","_borderGradient","_selection","_detectTouch","ReactSVGPanZoom","context","viewBox","SVGViewBox","parseViewBox","getDefaultValue","pointerX","pointerY","autoPanLoop","onWheel","componentDidUpdate","prevProps","getValue","needUpdate","setSVGViewBox","setViewerSize","setZoomLevels","setValue","componentDidMount","autoPanIsRunning","requestAnimationFrame","addEventListener","componentWillUnmount","removeEventListener","isValueValid","getTool","onZoom","onPan","handleViewerEvent","target","onEventHandler","click","dblclick","onDoubleClick","mousemove","mouseup","mousedown","touchstart","touchmove","onTouchMove","touchend","touchcancel","eventFactory","onInterval","customToolbar","CustomToolbar","customMiniature","CustomMiniature","panningWithToolAuto","cursorPolyfill","blockChildEvents","touchAction","className","detectTouch","onMouseEnterOrLeave","toSVG","SVGStyle","toolbarProps","POSITION_NONE","miniatureProps","oneOfType","shape","b","c","array","element","propName","componentName","prop","types","Children","count","join","defaultProps","disableZoomWithToolAuto","Array","isArray","parseFloat","matrixRegex","fromString","parsed","match","denom","isUndefined","val","isNumeric","isNaN","isFinite","isAffineMatrix","obj","tx","ty","matrices","multiply","m1","m2","rest","compose","cos","sin","PI","rotate","angle","cx","cy","cosAngle","sinAngle","rotationMatrix","rotateDEG","sx","sy","shear","shx","shy","tan","skew","ax","ay","skewDEG","toCSS","smoothMatrix","precision","fromTriangles","t1","t2","px1","py1","px2","py2","qx1","qy1","qx2","qy2","rx1","ry1","rx2","ry2","fromDefinition","definitionOrArrayOfDefinition","mapper","descriptor","peg$SyntaxError","message","expected","found","location","setPrototypeOf","peg$padEnd","str","targetLength","padString","repeat","slice","peg$parse","input","options","peg$result","peg$FAILED","peg$source","grammarSource","peg$startRuleFunctions","transformList","peg$parsetransformList","peg$startRuleFunction","peg$c0","peg$c1","peg$c2","peg$c3","peg$c4","peg$c5","peg$c6","peg$c7","peg$c8","peg$c9","peg$r0","peg$r1","peg$r2","peg$r3","peg$e0","peg$literalExpectation","peg$e1","peg$e2","peg$e3","peg$e4","peg$e5","peg$e6","peg$e7","peg$e8","peg$e9","description","peg$e10","peg$e11","peg$classExpectation","peg$e12","peg$e13","peg$e14","peg$f0","ts","peg$f1","concat","peg$f2","peg$f3","peg$f4","peg$f5","peg$f6","peg$f7","peg$f8","peg$f9","parseInt","peg$f10","peg$f11","n1","n2","peg$f12","ds","peg$f13","peg$f14","peg$f15","d1","d2","peg$f16","peg$f17","peg$currPos","peg$posDetailsCache","line","column","peg$maxFailPos","peg$maxFailExpected","peg$silentFails","startRule","text","ignoreCase","parts","inverted","peg$computePosDetails","pos","p","details","charCodeAt","peg$computeLocation","startPos","endPos","startPosDetails","endPosDetails","res","source","peg$fail","s1","s2","s3","s4","peg$parsewsp","peg$parsetransforms","s0","peg$parsetransform","peg$parsecommaWsp","s5","s7","s9","s11","s13","s15","s16","s17","substr","peg$parsenumber","peg$parsematrix","s6","s8","peg$parsecommaWspNumber","peg$parsetranslate","peg$parsescale","peg$parsecommaWspTwoNumbers","peg$parserotate","peg$parseskewX","peg$parseskewY","peg$parsesign","peg$parsedigitSequence","peg$parsefractionalConstant","peg$parseexponent","peg$parsefloatingPointConstant","peg$parseintegerConstant","peg$parsecomma","test","charAt","peg$parsedigit","buildMessage","fromTransformAttribute","transformString","decomposeTSR","flipX","flipY","rotation","hypotAc","hypot","acos","hypotBd","flipOrigin","fromOneMovingPoint","startingPoint","endingPoint","fromTwoMovingPoints","startingPoint1","startingPoint2","endingPoint1","endingPoint2","pointA","center","pointB","atan2","scalingLevel","child","parent","C","peg$subclass","format","sources","k","src","offset_s","loc","filler","toString","hatLen","DESCRIBE_EXPECTATION_FNS","literal","expectation","literalEscape","class","escapedParts","part","classEscape","any","other","hex","ch","toUpperCase","replace","describeExpectation","j","descriptions","sort","describeExpected","describeFound","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","toStringTag"],"sourceRoot":""}